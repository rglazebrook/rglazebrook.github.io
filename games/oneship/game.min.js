function J(){this.B=function(t){for(var e=0;24>e;e++)this[String.fromCharCode(97+e)]=t[e]||0;.01>this.c&&(this.c=.01),.18>(t=this.b+this.c+this.e)&&(t=.18/t,this.b*=t,this.c*=t,this.e*=t)}}!function(t){function e(){var e={},i=Function;return{publish:function(){var i,s,g,n=arguments,h=e[n[0]];h&&(i=h.length,s=1<n.length?Array.prototype.splice.call(n,1):[],setTimeout(function(){for(g=0;g<i;g+=1)1<h[g].length?h[g][0].apply(h[g][1],s):h[g][0].apply(t,s);h=t=s=null},0))},subscribe:function(t,s,g){if("string"!=typeof t)throw"invalid or missing channel";if(!(s instanceof i))throw"invalid or missing callback";return e[t]||(e[t]=[]),e[t].push(g?[s,g]:[s]),{channel:t,callback:s,context:g}},unsubscribe:function(t,s){if(t.channel&&t.callback&&(s=t.callback,t=t.channel),"string"!=typeof t)throw"invalid or missing channel";if(!(s instanceof i))throw"invalid or missing callback";var g,n=e[t],h=n instanceof Array?n.length:0;for(g=0;g<h;g+=1)if(n[g]===s){n.splice(g,1);break}}}}"function"==typeof define&&define.amd?define("pubsub",e):"object"==typeof module&&module.exports?module.exports=e():t.PubSub=e()}(this),window.gg={bindings:{},currentScreen:null,height:300,layer:{},level:0,loop:null,mouse:{x:0,y:0},muted:!1,score:0,pub:PubSub.publish,sub:PubSub.subscribe,unsub:PubSub.unsubscribe,translate:{x:0,y:0},width:300,world:{height:300,width:300,x:0,y:0},entityPool:{},render:document.createElement("canvas"),init:function(t,e){gg.render.ctx=gg.render.getContext("2d"),gg.util.merge(gg,t);var i=gg.$(t.parent);i||(i=gg.makeElement("div",t.parent)),gg.parent=i;for(var s=0;s<t.layers.length;s++){var g=gg.makeElement("canvas",t.layers[s],i);g.width=t.width,g.height=t.height,g.style.position="absolute",gg.layer[t.layers[s]]={canvas:g,ctx:g.getContext("2d"),update:!1,entities:[],entitiesByName:{}}}e(),gg.unpause()},$:function(t){var e=document;switch(t.charAt(0)){case"#":return e.getElementById(t.slice(1))||!1;default:return e.getElementsByTagName(t)||!1}},gameloop:function(){for(k in gg.layer){var t=gg.layer[k];t.update&&gg.currentScreen.timer%(60/t.fps)==0&&(gg.clear(t),gg.killEntities(t),gg.updateEntities(t.entities))}gg.currentScreen&&gg.currentScreen.show(),gg.loop=requestAnimationFrame(gg.gameloop)},clear:function(t){t.ctx.clearRect(0,0,t.ctx.canvas.width,t.ctx.canvas.height)},disable:function(t){gg.killEntities(t,!0),gg.clear(t),t.update=!1},loadScreen:function(t){gg.currentScreen=new t},killEntities:function(t,e){for(var i=t.entities,s=i.length-1;s>=0;s--)(i[s]._kill||e)&&(gg.entityPool[i[s].type]&&(i[s]._kill=!1,gg.entityPool[i[s].type].push(i[s])),i[s].name&&delete t.entitiesByName[i[s].name],i.erase(i[s]))},updateEntities:function(t){for(var t=t.sort(function(t,e){return t.id-e.id}),e=0;e<t.length;e++)t[e].update()},listen:function(t,e,i){gg.bindings[t]||(gg.bindings[t]={},gg.bindings[t][e]=[]),gg.bindings[t][e].push(i)},spawn:function(t,e){var i;return gg.entityPool[t]&&gg.entityPool[t].length>0?(i=gg.entityPool[t].pop()).init(e):i=new gg[t](e),i.layer&&(i.layer.entities.push(i),i.name&&(i.layer.entitiesByName[i.name]=i)),i},getEntitiesByType:function(t){var e=[];for(var i in gg.layer)for(var s=gg.layer[i].entities,g=0;g<s.length;g++)s[g].type==t&&e.push(s[g]);return e},makeElement:function(t,e,i){var s=document,g=gg.$("#"+e),i=i||gg.$("body");return g||((g=s.createElement(t)).id=e,i.appendChild(g)),g},pause:function(){cancelAnimationFrame(gg.loop)},unpause:function(){gg.loop=requestAnimationFrame(gg.gameloop)}},window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)});var $PI=Math.PI,$2PI=2*$PI;Array.prototype.erase=function(t){for(var e=this.length;e--;)this[e]===t&&this.splice(e,1);return this},Number.prototype.between=function(t,e,i){return i?this>=t&&this<=e:this>t&&this<e},Number.prototype.limit=function(t,e){return Math.min(e,Math.max(t,this))},gg.Class=function(){},gg.Class.extend=function(t){function e(){if(!i){for(var t in this)"object"==typeof this[t]&&(this[t]=gg.util.copyObj(this[t]));this.init&&this.init.apply(this,arguments)}}var i=!1,s=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,g=this.prototype;i=!0;var n=new this;i=!1;for(var h in t)n[h]="function"==typeof t[h]&&"function"==typeof g[h]&&s.test(t[h])?function(t,e){return function(){var i=this._super;this._super=g[t];var s=e.apply(this,arguments);return this._super=i,s}}(h,t[h]):t[h];return e.prototype=n,e.prototype.constructor=e,e.extend=window.gg.Class.extend,e},gg.util={copyObj:function(t){var e=t instanceof Array?[]:{};for(var i in t)e[i]=t[i];return e},merge:function(t,e){for(var i in e)try{e[i].constructor==Object?t[i]=gg.util.merge(t[i],e[i]):t[i]=e[i]}catch(s){t[i]=e[i]}return t},hsla:function(t){return"hsla("+(t.h||0)+","+(t.s||0)+"%,"+(t.l||0)+"%,"+(t.a||0)+")"},distance:function(t,e){var i=t.x-e.x,s=t.y-e.y;return Math.sqrt(i*i+s*s)},intersectRects:function(t,e){return!(t.x+t.width<e.x||e.x+e.width<t.x||t.y+t.height<e.y||e.y+e.height<t.y)},intersectCircles:function(t,e){return t.width/2+e.width/2>gg.util.distance(t,e)},intersectCircleRect:function(t,e){var i=t.radius||t.width/2;return!(t.x+i<e.x||t.x-i>e.x+e.width||t.y+i<e.y||t.y-i>e.y+e.height)},rand:function(t,e,i){return i?Math.round(Math.random()*(e-t)+t):Math.random()*(e-t)+t}};var W=new function(){this.A=new J;var t,e,i,s,g,n,h,a,r,l,o,u;this.reset=function(){var t=this.A;s=100/(t.f*t.f+.001),g=100/(t.g*t.g+.001),n=1-.01*t.h*t.h*t.h,h=1e-6*-t.i*t.i*t.i,t.a||(o=.5-t.n/2,u=5e-5*-t.o),a=1+t.l*t.l*(0<t.l?-.9:10),r=0,l=1==t.m?0:2e4*(1-t.m)*(1-t.m)+32},this.D=function(){this.reset();var s=this.A;return t=1e5*s.b*s.b,e=1e5*s.c*s.c,i=1e5*s.e*s.e+12,3*((t+e+i)/3|0)},this.C=function(c,d){var y=1!=(D=this.A).s||D.v,f=.1*D.v*D.v,p=1+3e-4*D.w,x=.1*D.s*D.s*D.s,w=1+1e-4*D.t,m=1!=D.s,b=D.x*D.x,A=D.g,v=D.q||D.r,k=.2*D.r*D.r*D.r,S=D.q*D.q*(0>D.q?-1020:1020),E=D.p?32+(2e4*(1-D.p)*(1-D.p)|0):0,M=D.d,C=D.j/2,T=.01*D.k*D.k,W=D.a,P=t,B=1/t,N=1/e,U=1/i;.8<(D=5/(1+20*D.u*D.u)*(.01+x))&&(D=.8);for(var F,R,Y,L,O,D=1-D,G=!1,Z=0,I=0,V=0,j=0,z=0,H=0,_=0,J=0,q=0,Q=0,X=Array(1024),K=Array(32),$=X.length;$--;)X[$]=0;for($=K.length;$--;)K[$]=2*Math.random()-1;for($=0;$<d;$++){if(G)return $;if(E&&++q>=E&&(q=0,this.reset()),l&&++r>=l&&(l=0,s*=a),n+=h,(s*=n)>g&&(s=g,0<A&&(G=!0)),R=s,0<C&&(Q+=T,R*=1+Math.sin(Q)*C),8>(R|=0)&&(R=8),W||(o+=u,0>o?o=0:.5<o&&(o=.5)),++I>P)switch(I=0,++Z){case 1:P=e;break;case 2:P=i}switch(Z){case 0:V=I*B;break;case 1:V=1+2*(1-I*N)*M;break;case 2:V=1-I*U;break;case 3:V=0,G=!0}v&&(S+=k,Y=0|S,0>Y?Y=-Y:1023<Y&&(Y=1023)),y&&p&&(f*=p,1e-5>f?f=1e-5:.1<f&&(f=.1)),O=0;for(var tt=8;tt--;){if(++_>=R&&(_%=R,3==W))for(F=K.length;F--;)K[F]=2*Math.random()-1;switch(W){case 0:L=_/R<o?.5:-.5;break;case 1:L=1-_/R*2;break;case 2:L=.225*((0>(L=1.27323954*(L=6.28318531*(.5<(L=_/R)?L-1:L))+.405284735*L*L*(0>L?1:-1))?-1:1)*L*L-L)+L;break;case 3:L=K[Math.abs(32*_/R|0)]}y&&(F=H,x*=w,0>x?x=0:.1<x&&(x=.1),m?(z+=(L-H)*x,z*=D):(H=L,z=0),H+=z,j+=H-F,L=j*=1-f),v&&(X[J%1024]=L,L+=X[(J-Y+1024)%1024],J++),O+=L}O=.125*O*V*b,c[$]=1<=O?32767:-1>=O?-32768:32767*O|0}return d}};window.jsfxr=function(t){W.A.B(t);e=W.D();t=new Uint8Array(4*((e+1)/2|0)+44);e=2*W.C(new Uint16Array(t.buffer,44),e);(i=new Uint32Array(t.buffer,0,44))[0]=1179011410,i[1]=e+36,i[2]=1163280727,i[3]=544501094,i[4]=16,i[5]=65537,i[6]=44100,i[7]=88200,i[8]=1048578,i[9]=1635017060,i[10]=e;for(var e=e+44,i=0,s="data:audio/wav;base64,";i<e;i+=3)var g=t[i]<<16|t[i+1]<<8|t[i+2],s=s+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g>>18]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g>>12&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g>>6&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[63&g]);return s},gg.Audio=gg.Class.extend({sounds:{},soundObj:{},init:function(t){gg.util.merge(this,t);for(var e in this.sounds){this.soundObj[e]=[];for(var i=this.sounds[e],s=this.soundObj[e],g=0;g<i.variations.length;g++){s.push({next:0,last:i.count-1,pool:[]});for(var n=0;n<=s[g].last;n++){var h=new Audio;h.src=jsfxr(i.variations[g]),s[g].pool.push(h)}}}},play:function(t){if(!gg.muted){var e=this.soundObj[t];(e=e.length>1?this.soundObj[t][gg.util.rand(0,e.length-1,!0)]:this.soundObj[t][0]).pool[e.next].play(),e.next+=e.next==e.last?-e.last:1}}}),gg.Base=gg.Class.extend({id:0,x:0,y:0,width:0,height:0,radius:0,type:null,layer:!1,rotation:0,drawFromCenter:!0,fixed:!1,pool:!1,init:function(t){this.id=++gg.Base._lastId,gg.util.merge(this,t),this.layer&&("string"==typeof this.layer&&(this.layer=gg.layer[this.layer]),this.ctx=this.layer.ctx,this.canvas=this.ctx.canvas)},draw:function(){this.ctx.restore()},update:function(){if(!this._kill){var t=0,e=0;this.ctx.save(),this.drawFromCenter&&(t+=this.x,e+=this.y),this.fixed||(t-=gg.world.x,e-=gg.world.y),this.ctx.translate(t,e),this.ctx.rotate(this.rotation),this.draw()}},kill:function(){this._kill=!0}}),gg.Base._lastId=0,gg.Button=gg.Base.extend({width:100,height:30,background:{h:0,s:0,l:50,a:.8},stroke:{h:0,s:0,l:100,a:1},text:null,hover:!1,scale:2,type:"button",fixed:!0,clicked:!1,init:function(t){this._super(t),this.background._a=this.background.a,this.text&&"string"==typeof this.text&&(this.text=gg.spawn("Text",{text:this.text,layer:t.layer,align:"center",scale:2,x:this.x+this.width/2,y:this.y+this.height/2-5})),gg.sub("click",this.click,this)},draw:function(){var t=gg.util.hsla(this.background),e=gg.util.hsla(this.stroke);this.ctx.fillStyle=t,this.ctx.strokeStyle=e,this.ctx.beginPath(),this.ctx.fillRect(0,0,this.width,this.height),this.ctx.beginPath(),this.ctx.strokeRect(0,0,this.width,this.height),this._super()},update:function(){this.hover=!(!gg.mouse.x.between(this.x,this.x+this.width)||!gg.mouse.y.between(this.y,this.y+this.height)),this.hover?this.background.a=1.2*this.background._a:this.background.a=this.background._a,this._super()},click:function(t){this.clicked=!(!t.x.between(this.x,this.x+this.width)||!t.y.between(this.y,this.y+this.height))}}),gg.Camera=gg.Base.extend({x:0,y:0,width:300,height:300,deadZone:{width:50,height:50},debug:!1,following:!1,type:"camera",draw:function(){if(this.debug){var t=this.width,e=this.height,i=this.deadZone.width,s=this.deadZone.height;this.ctx.strokeStyle="rgba(255,0,0,.8)",this.ctx.fillStyle="rgba(255,0,0,.25)",this.ctx.beginPath(),this.ctx.strokeRect(-t/2,-e/2,t,e),this.ctx.beginPath(),this.ctx.fillRect(-i/2,-s/2,i,s)}this._super()},update:function(){if(this.following){var t=this.x,e=this.y;w=this.width,h=this.height,deadzone={top:e-this.deadZone.height/2,left:t+this.deadZone.width/2,bottom:e+this.deadZone.height/2,right:t-this.deadZone.width/2},their={top:this.following.y-this.following.height/2,left:this.following.x+this.following.width/2,bottom:this.following.y+this.following.height/2,right:this.following.x-this.following.width/2},their.left>deadzone.left?this.x+=their.left-deadzone.left:their.right<deadzone.right&&(this.x+=their.right-deadzone.right),their.bottom>deadzone.bottom?this.y+=their.bottom-deadzone.bottom:their.top<deadzone.top&&(this.y+=their.top-deadzone.top),this.x-w/2<0&&(this.x=w/2),this.x+w/2>gg.world.width&&(this.x=gg.world.width-w/2),this.y-h/2<0&&(this.y=h/2),this.y+h/2>gg.world.height&&(this.y=gg.world.height-h/2),gg.world.x=this.x-w/2,gg.world.y=this.y-h/2}this._super()},follow:function(t){this.following=t,this.x=this.following.x,this.y=this.following.y},unfollow:function(){this.following=!1}}),gg.def={keycode:{MOUSE_LEFT:-1,MOUSE_CENTER:-2,MOUSE_RIGHT:-3,BACKSPACE:8,TAB:9,ENTER:13,COMMAND:15,SHIFT:16,CONTROL:17,ALTERNATE:18,PAUSE:19,CAPS_LOCK:20,NUMPAD:21,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,NUMBER_0:48,NUMBER_1:49,NUMBER_2:50,NUMBER_3:51,NUMBER_4:52,NUMBER_5:53,NUMBER_6:54,NUMBER_7:55,NUMBER_8:56,NUMBER_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LEFT_WINDOW_KEY:91,RIGHT_WINDOW_KEY:92,SELECT_KEY:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,SEMICOLON:186,EQUAL:187,COMMA:188,MINUS:189,PERIOD:190,SLASH:191,BACKQUOTE:192,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221,QUOTE:222},text:{XX:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],0:[[,0,0,0],[0,,,0,0],[0,,0,,0],[0,0,,,0],[,0,0,0]],1:[[,0,0],[,,0],[,,0],[,,0],[0,0,0,0,0]],2:[[,0,0,0],[0,,,,0],[,,,0],[,,0],[0,0,0,0,0]],3:[[0,0,0,0],[,,,,0],[,0,0,0],[,,,,0],[0,0,0,0]],4:[[0,,,0],[0,,,0],[0,0,0,0,0],[,,,0],[,,,0]],5:[[0,0,0,0,0],[0],[0,0,0,0],[,,,,0],[0,0,0,0]],6:[[,0,0,0,0],[0],[0,0,0,0,0],[0,,,,0],[0,0,0,0,0]],7:[[0,0,0,0,0],[,,,0],[,,,0],[,,0],[,,0]],8:[[,0,0,0],[0,,,,0],[,0,0,0],[0,,,,0],[,0,0,0]],9:[[,0,0,0,0],[0,,,,0],[,0,0,0,0],[,,,,0],[,,,,0]],a:[[,0,0,0],[0,,,,0],[0,0,0,0,0],[0,,,,0],[0,,,,0]],b:[[0,0,0,0],[0,,,,0],[0,0,0,0],[0,,,,0],[0,0,0,0]],c:[[,0,0,0,0],[0],[0],[0],[,0,0,0,0]],d:[[0,0,0,0],[0,,,,0],[0,,,,0],[0,,,,0],[0,0,0,0]],e:[[0,0,0,0,0],[0],[0,0,0,0],[0],[0,0,0,0,0]],f:[[0,0,0,0,0],[0],[0,0,0],[0],[0]],g:[[,0,0,0,0],[0],[0,,,0,0],[0,,,,0],[,0,0,0,0]],h:[[0,,,,0],[0,,,,0],[0,0,0,0,0],[0,,,,0],[0,,,,0]],i:[[0,0,0,0,0],[,,0],[,,0],[,,0],[0,0,0,0,0]],j:[[0,0,0,0,0],[,,0],[,,0],[0,,0],[0,0,0]],k:[[0,,,0],[0,,0],[0,0,0],[0,,,0],[0,,,,0]],l:[[0],[0],[0],[0],[0,0,0,0,0]],m:[[0,,,,0],[0,0,,0,0],[0,,0,,0],[0,,,,0],[0,,,,0]],n:[[0,,,,0],[0,0,,,0],[0,,0,,0],[0,,,0,0],[0,,,,0]],o:[[,0,0,0],[0,,,,0],[0,,,,0],[0,,,,0],[,0,0,0]],p:[[0,0,0,0],[0,,,,0],[0,0,0,0],[0],[0]],q:[[,0,0],[0,,,0],[0,,,0],[0,,,0],[,0,0,0,0]],r:[[0,0,0,0],[0,,,,0],[0,0,0,0],[0,,,0],[0,,,,0]],s:[[,0,0,0,0],[0],[,0,0,0],[,,,,0],[0,0,0,0]],t:[[0,0,0,0,0],[,,0],[,,0],[,,0],[,,0]],u:[[0,,,,0],[0,,,,0],[0,,,,0],[0,,,,0],[,0,0,0,0]],v:[[0,,,,0],[0,,,,0],[,0,,0],[,0,,0],[,,0]],w:[[0,,,,0],[0,,0,,0],[0,,0,,0],[0,,0,,0],[,0,,0]],x:[[0,,,,0],[,0,,0],[,,0],[,0,,0],[0,,,,0]],y:[[0,,,,0],[,0,0,0],[,,0],[,,0],[,,0]],z:[[0,0,0,0,0],[,,,0],[,,0],[,0],[0,0,0,0,0]],"!":[[,,0,0],[,,0,0],[,,0],[],[,,0]],"?":[[,0,0,0],[0,,,,0],[,,,0],[],[,,0]],"(":[[,0],[0],[0],[0],[,0]],")":[[,,,0],[,,,,0],[,,,,0],[,,,,0],[,,,0]],":":[[],[,,0],[],[,,0],[]],"-":[[],[],[,0,0,0],[],[]],"@":[[,0,0,0],[0,,,,0],[0,,0,0,0],[0,,0,,0],[0,,0,0,0]],"+":[[,,0],[,,0],[0,0,0,0,0],[,,0],[,,0]],".":[[],[],[],[],[,,0]]}},gg.Entity=gg.Base.extend({width:10,height:10,health:1,vel:{x:0,y:0},maxVel:{x:12,y:12},accel:{x:.2,y:.2},rotation:0,friction:.95,elasticity:1,visible:!0,type:null,onscreen:!1,init:function(t){this._super(t),this.h&&(this._h=this.h),this.l&&(this._l=this.l)},draw:function(){this.h=this._h,this.l=this._l,this._super()},update:function(){this.onscreen=gg.util.intersectCircleRect(this,{x:gg.world.x,y:gg.world.y,width:gg.width,height:gg.height}),gg.util.intersectCircleRect(this,{x:0,y:0,width:gg.world.width,height:gg.world.height})||this.kill(),this.onscreen&&this._super()},takeDamage:function(t){this.health-=t.damage?t.damage:1,this.health<=0&&this.kill(t)}}),(gg.input={pressed:{},keymap:{},state:{},init:function(){var t=document;t.addEventListener("keydown",function(t){gg.pub("down",t)}),t.addEventListener("keyup",function(t){gg.pub("up",t)}),t.addEventListener("mousedown",function(t){gg.pub("down",t)}),t.addEventListener("mouseup",function(t){gg.pub("up",t)}),t.addEventListener("mousemove",function(t){gg.pub("mouse",t)}),t.addEventListener("click",function(t){gg.pub("mouse",t)}),t.addEventListener("touchstart",function(t){gg.pub("touch",t)}),gg.sub("down",function(t){var e=gg.input.keymap[t.keyCode]||gg.input.keymap[-t.which]||!1;e&&(gg.input.state[e]=!0,gg.pub("down/"+e))}),gg.sub("up",function(t){var e=gg.input.keymap[t.keyCode]||gg.input.keymap[-t.which]||!1;e&&(gg.input.state[e]=!1,gg.pub("up/"+e))}),gg.sub("mouse",function(t){gg.mouse=gg.input.getCoords(t),"click"==t.type&&gg.pub("click",gg.mouse)}),gg.sub("touch",function(t){gg.touch=t.touches[0],gg.mouse=gg.input.getCoords(gg.gg),touch.pub("click",gg.mouse)})},getCoords:function(t){var e=0,i=0,s=document;return t.pageX||t.pageY?(e=t.pageX,i=t.pageY):(e=t.clientX+s.body.scrollLeft+s.documentElement.scrollLeft,i=t.clientY+s.body.scrollTop+s.documentElement.scrollTop),e-=gg.parent.offsetLeft,i-=gg.parent.offsetTop,{x:e,y:i}},map:function(t,e){gg.input.keymap[t]=e,gg.input.state[e]=!1}}).init(),gg.Screen=gg.Class.extend({timer:0,enabled:!1,init:function(t){gg.util.merge(this,t)},enable:function(){this.enabled=!0,this.timer=0},show:function(){this.enabled?(this.timer++,this.update()):this.enable()},update:function(){},disable:function(){this.enabled=!1}}),gg.storage={get:function(t){return JSON.parse(localStorage.getItem(t))||!1},set:function(t,e){localStorage.setItem(t,JSON.stringify(e))}},"object"!=typeof JSON&&(JSON={}),function(){function m(t){return 10>t?"0"+t:t}function r(t){return s.lastIndex=0,s.test(t)?'"'+t.replace(s,function(t){var e=u[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function p(t,i){var s,g,h,a,l,o=e,u=i[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof k&&(u=k.call(i,t,u)),typeof u){case"string":return r(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(e+=n,l=[],"[object Array]"===Object.prototype.toString.apply(u)){for(a=u.length,s=0;s<a;s+=1)l[s]=p(s,u)||"null";return h=0===l.length?"[]":e?"[\n"+e+l.join(",\n"+e)+"\n"+o+"]":"["+l.join(",")+"]",e=o,h}if(k&&"object"==typeof k)for(a=k.length,s=0;s<a;s+=1)"string"==typeof k[s]&&(g=k[s],(h=p(g,u))&&l.push(r(g)+(e?": ":":")+h));else for(g in u)Object.prototype.hasOwnProperty.call(u,g)&&(h=p(g,u))&&l.push(r(g)+(e?": ":":")+h);return h=0===l.length?"{}":e?"{\n"+e+l.join(",\n"+e)+"\n"+o+"}":"{"+l.join(",")+"}",e=o,h}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+m(this.getUTCMonth()+1)+"-"+m(this.getUTCDate())+"T"+m(this.getUTCHours())+":"+m(this.getUTCMinutes())+":"+m(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var t=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,n,u={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,i,s){var g;if(n=e="","number"==typeof s)for(g=0;g<s;g+=1)n+=" ";else"string"==typeof s&&(n=s);if((k=i)&&"function"!=typeof i&&("object"!=typeof i||"number"!=typeof i.length))throw Error("JSON.stringify");return p("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(a,e){function c(t,i){var s,g,n=t[i];if(n&&"object"==typeof n)for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(g=c(n,s),void 0!==g?n[s]=g:delete n[s]);return e.call(t,i,n)}var d;if(a=String(a),t.lastIndex=0,t.test(a)&&(a=a.replace(t,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"==typeof e?c({"":d},""):d;throw new SyntaxError("JSON.parse")})}(),gg.Text=gg.Base.extend({visible:!0,type:"text",text:null,align:"left",scale:1,kerning:1,leading:5,arrayRows:5,arrayCols:5,h:0,s:0,l:100,a:1,drawFromCenter:!1,fixed:!0,init:function(t){this._super(t),this.width=this.arrayCols*this.scale,this.height=this.arrayRows*this.scale},draw:function(){var t=this.text.split("\n"),e=this.arrayRows,i=this.arrayCols,s=this.width/i,g=this.height/e;this.ctx.fillStyle=gg.util.hsla(this);for(var n=0;n<t.length;n++){var h=t[n].split(""),a=this.y+this.width*n+this.leading*this.scale*n;switch(this.align){case"right":letterx=this.x-this.width*h.length-this.kerning*this.scale*(h.length-1);break;case"center":letterx=Math.round(this.x-(this.width*h.length+this.kerning*this.scale*(h.length-1))/2);break;default:letterx=this.x}for(var r=0;r<h.length;r++){var l=gg.def.text[h[r]];if(l)for(var o=0;o<e;o++)for(var u=0;u<i;u++)l[o][u]>=0&&this.ctx.fillRect(letterx+u*s,a+o*g,s,g);letterx+=this.width+this.kerning*this.scale}}this._super()},update:function(){this.text&&this._super()}}),gg.EntityBullet=gg.Entity.extend({width:3,height:3,radius:1.5,maxVel:{x:10,y:10},layer:"main",damage:5,damages:["EntityEnemy"],type:"EntityBullet",h:0,s:10,l:100,a:1,draw:function(){this.ctx.beginPath(),this.ctx.fillStyle=gg.util.hsla(this),this.ctx.arc(0,0,this.radius,0,$2PI),this.ctx.fill(),this._super()},update:function(){this.vel.x=this.maxVel.x*Math.cos(this.rotation),this.vel.y=this.maxVel.y*Math.sin(this.rotation),this.x+=this.vel.x,this.y+=this.vel.y;for(var t=this.layer.entities,e=0;e<t.length;e++)if(this.damages.indexOf(t[e].type)>=0&&gg.util.intersectCircles(this,t[e])){t[e].takeDamage(this),this.kill(this),gg.spawn("EntityParticleEmitter",{x:this.x,y:this.y,life:2,h:t[e]._h,s:"100%",l:"85%",a:1});break}this._super()}}),gg.EntityEnemy=gg.Entity.extend({width:50,height:50,radius:25,x:gg.width/2,y:gg.height/2,layer:"main",direction:0,rotationAmount:.05,health:5,homing:!1,accuracy:0,type:"EntityEnemy",points:5,damage:.5,damages:["friend"],h:240,s:100,l:55,a:1,img:new Image,drawImage:function(){var t=this.width,e=this.height,i=t/2,s=e/2;gg.render.width=t,gg.render.height=e,gg.render.ctx.translate(i,s),gg.render.ctx.fillStyle=gg.util.hsla(this),gg.render.ctx.strokeStyle=gg.util.hsla(this),gg.render.ctx.beginPath(),gg.render.ctx.moveTo(-t/3,0),gg.render.ctx.quadraticCurveTo(0,0,0,e/3),gg.render.ctx.quadraticCurveTo(0,0,t/3,0),gg.render.ctx.quadraticCurveTo(0,0,0,-e/3),gg.render.ctx.quadraticCurveTo(0,0,-t/3,0),gg.render.ctx.fill();var g=gg.render.ctx.createRadialGradient(0,0,this.radius/3,0,0,this.radius);g.addColorStop(0,gg.util.hsla({h:this.h,s:this.s,l:this.l,a:0})),g.addColorStop(1,gg.util.hsla(this)),gg.render.ctx.beginPath(),gg.render.ctx.arc(0,0,this.radius,0,$2PI),gg.render.ctx.fillStyle=g,gg.render.ctx.fill(),this.img=new Image,this.img.src=gg.render.toDataURL()},draw:function(){var t=this.width/2,e=this.height/2;this.img.src||this.drawImage(),this.ctx.drawImage(this.img,-t,-e),this._super()},update:function(){if(this.rotation+=this.rotationAmount,this.target&&this.accuracy>=gg.util.rand(0,1)){var t=this.layer.entitiesByName[this.target]||!1;t&&(this.direction=Math.atan2(t.y-this.y,t.x-this.x),this.vel.x=Math.cos(this.direction),this.vel.y=Math.sin(this.direction))}this.x+=this.vel.x,this.y+=this.vel.y;for(var e=gg.getEntitiesByType("EntityHero"),i=0;i<e.length;i++)gg.util.intersectCircles(this,e[i])&&e[i].takeDamage(this);this._super()},kill:function(t){t&&t!==this&&(gg.score+=this.points,gg.kills++,this.onscreen&&(gg.audio.play("explode"),gg.spawn("PointText",{text:"+"+this.points,x:this.x,y:this.y-5,h:this.h}),gg.spawn("Explosion",{x:this.x,y:this.y,radius:this.radius/2,h:this.h,s:this.s,l:this.l}))),this.img=new Image,this._super()},takeDamage:function(t){this._super(t),this.onscreen&&this.health>0&&(this.h=Math.round(gg.util.rand(0,360)),gg.audio.play("hit"))}}),gg.Explosion=gg.Entity.extend({layer:"main",radius:25,explosionradius:25,h:240,s:100,l:55,a:1,_timer:0,life:20,type:"Explosion",init:function(t){this._super(t),this._timer=0},draw:function(){var t=this.ctx.createRadialGradient(0,0,this.radius,0,0,this.explosionradius);t.addColorStop(0,gg.util.hsla({h:this.h,s:this.s,l:this.l,a:0})),t.addColorStop(1,gg.util.hsla(this)),this.ctx.beginPath(),this.ctx.arc(0,0,this.explosionradius,0,$2PI),this.ctx.fillStyle=t,this.ctx.fill(),this._super()},update:function(){this._timer++==this.life?this.kill():(this.a=1-this._timer/this.life,this.radius++,this.explosionradius=this.radius*(1+this._timer/this.life)*1.75),this._super()}}),gg.PointText=gg.Text.extend({layer:"main",scale:2,h:0,s:60,l:50,a:1,_timer:0,timerMax:30,fixed:!1,align:"center",type:"PointText",init:function(t){this._super(t),this._timer=0},update:function(){this._timer++==this.timerMax?this.kill():(this.a=1-this._timer/this.timerMax,this._super())}}),gg.Fillbar=gg.Base.extend({layer:"ui",x:0,y:0,width:50,height:10,fill:1,foreground:{h:120,s:100,l:50,a:.75},background:{h:0,s:0,l:0,a:.25},stroke:{h:0,s:100,l:100,a:.5},fixed:!0,drawFromCenter:!1,draw:function(){var t=gg.util.hsla(this.background),e=gg.util.hsla(this.foreground),i=gg.util.hsla(this.stroke);this.ctx.fillStyle=t,this.ctx.beginPath(),this.ctx.fillRect(this.x,this.y,this.width,this.height),this.fill>0&&(this.ctx.fillStyle=e,this.ctx.beginPath(),this.ctx.fillRect(this.x,this.y,this.width*this.fill,this.height)),this.ctx.strokeStyle=i,this.ctx.beginPath(),this.ctx.strokeRect(this.x,this.y,this.width,this.height),this._super()}}),gg.GameOverScreen=gg.Screen.extend({name:"gameover",enable:function(){gg.layer.menu.update=!0;var t=new Date;this.seconds=Math.round((t-gg.startTime)/1e3);for(var e=gg.getEntitiesByType("bullet"),i=0;i<e.length;i++)e[i].kill();this.stats=gg.storage.get("stats")||{highscore:0,kills:0,deaths:0,shots:0,seconds:0},this.stats.highscore=Math.max(this.stats.highscore,gg.score),this.stats.kills+=gg.kills,this.stats.shots+=gg.shots,this.stats.seconds+=this.seconds,this.stats.deaths++,gg.storage.set("stats",this.stats),this.menubutton={},this.retrybutton={},this._super()},update:function(){80==this.timer?(this.bg=gg.spawn("Background",{layer:"menu",color:"rgba(0,0,0,.5)"}),this.title=gg.spawn("Text",{layer:"menu",text:"game over",align:"center",x:gg.width/2,y:40,scale:10,kerning:.5}),this.statsL=gg.spawn("Text",{layer:"menu",text:"score\n\nenemies killed\n\nshots fired\n\nseconds survived",align:"right",x:gg.width/2-10,y:140,scale:2,h:120,s:50,l:50}),this.statsR=gg.spawn("Text",{layer:"menu",text:gg.score+(gg.score==this.stats.highscore?" new high score!":" (best: "+this.stats.highscore+")")+"\n\n"+gg.kills+"\n\n"+gg.shots+"\n\n"+this.seconds,align:"left",x:gg.width/2+10,y:140,scale:2})):120==this.timer&&(this.menubutton=gg.spawn("Button",{layer:"menu",text:"menu",x:gg.width/2-110,y:gg.height-60}),this.retrybutton=gg.spawn("Button",{layer:"menu",text:"retry",x:this.menubutton.x+120,y:this.menubutton.y})),this.menubutton.clicked&&(this.disable(),gg.loadScreen(gg.MenuScreen)),this.retrybutton.clicked&&(this.disable(),gg.loadScreen(gg.GameScreen)),this._super()},disable:function(){gg.disable(gg.layer.main),gg.disable(gg.layer.menu),gg.disable(gg.layer.ui),gg.disable(gg.layer.bg),this._super()}}),gg.GameScreen=gg.Screen.extend({name:"game",enable:function(){gg.layer.main.update=!0,gg.layer.ui.update=!0,gg.layer.bg.update=!0,gg.disable(gg.layer.menu),gg.killEntities(gg.layer.main,!0),gg.killEntities(gg.layer.ui,!0),gg.muted=!1,gg.paused=!1,gg.autofire=!1,gg.spawnWait=30,gg.spawnTick=0,gg.levelEnemyMax=10,gg.totalEnemyMax=90,gg.score=0,gg.shots=0,gg.kills=0,gg.level=2,gg.startTime=new Date,gg.world={x:0,y:0,width:2*gg.width,height:2*gg.height},gg.hero=gg.spawn("EntityHero",{name:"hero",x:gg.world.width/2,y:gg.world.height/2}),gg.camera=gg.spawn("Camera",{layer:"main",x:gg.hero.x,y:gg.hero.y,width:gg.width,height:gg.height,deadZone:{width:60,height:60}}),gg.camera.follow(gg.hero),gg.scoretext=gg.spawn("Text",{layer:"ui",text:"score:0",x:10,y:10,scale:2}),gg.healthtext=gg.spawn("Text",{layer:"ui",text:"health:",x:gg.width-120,y:10,align:"right",scale:2}),gg.healthbar=gg.spawn("Fillbar",{x:gg.width-110,y:10,width:100,height:10}),gg.minimap=gg.spawn("MiniMap",{x:gg.width-110,y:gg.height-85,width:100,height:75,delay:5,mapFrom:"main",include:["EntityEnemy","EntityHero"]}),gg.spawn("Starfield",{level:4,img:"data:image/png;base64,"+gg.starfieldbg[0]}),gg.spawn("Starfield",{level:8,img:"data:image/png;base64,"+gg.starfieldbg[1]}),gg.spawn("Starfield",{level:12,img:"data:image/png;base64,"+gg.starfieldbg[2]}),this.pause=gg.sub("up/pause",function(){gg.paused?(gg.unpause(),gg.paused=!1):(gg.pause(),gg.paused=!0),console.log("Pause: "+gg.paused)}),this.autofire=gg.sub("up/autofire",function(){gg.hero.autofire=!gg.hero.autofire,console.log("Autofire: "+gg.hero.autofire)}),this.mute=gg.sub("up/mute",function(){gg.muted=!gg.muted,console.log("Muted: "+gg.muted)}),this._super()},update:function(){this.spawnEnemies(),gg.scoretext.text="score:"+gg.score,gg.healthbar.fill=gg.hero.health/100,gg.healthbar.foreground.h=Math.round(120*gg.healthbar.fill),gg.score>100&&(gg.levelEnemyMax=Math.floor(10+gg.score/30).limit(0,gg.totalEnemyMax),gg.spawnWait=Math.floor(30-gg.score/70).limit(0,100)),gg.hero.health<=0&&this.disable(),this._super()},spawnEnemies:function(){gg.spawnTick>=gg.spawnWait&&gg.getEntitiesByType("enemy").length<gg.levelEnemyMax&&(gg.spawn("EntityEnemy",this.getEnemy()),gg.spawnTick=0),gg.spawnTick++},getEnemyType:function(){return gg.util.rand(0,gg.level,!0)},getEnemy:function(t){var e=this.getSpawnCoords();switch(t=t||this.getEnemyType()){case 0:return gg.util.merge(e,{vel:{x:"left"==e.start?1:"right"==e.start?-1:0,y:"top"==e.start?1:"bottom"==e.start?-1:0},target:!1});case 1:return gg.util.merge(e,{h:100,s:75,l:45,health:10,points:10,vel:{x:["top","bottom"].indexOf(e.start)>=0?gg.util.rand(-1,1):"left"==e.start?1:-1,y:["left","right"].indexOf(e.start)>=0?gg.util.rand(-1,1):"top"==e.start?1:-1},target:!1});case 2:return gg.util.merge(e,{h:360,s:80,l:50,health:10,points:15,target:"hero",accuracy:.1})}},getSpawnCoords:function(){var t,e,i;switch(gg.util.rand(0,3,!0)){case 0:t=gg.util.rand(0,gg.world.width),e=-25,i="top";break;case 1:t=gg.world.width+25,e=gg.util.rand(0,gg.world.height),i="right";break;case 2:t=gg.util.rand(0,gg.world.width),e=gg.world.height+25,i="bottom";break;default:t=-25,e=gg.util.rand(0,gg.world.height),i="left"}return{x:t,y:e,start:i}},disable:function(){gg.camera.kill(),gg.unsub(this.pause),gg.unsub(this.autofire),gg.unsub(this.mute),gg.loadScreen(gg.GameOverScreen)}}),gg.Background=gg.Base.extend({x:0,y:0,layer:"bg",img:!1,color:!1,fixed:!0,init:function(t){this.width=gg.width,this.height=gg.height,this._super(t),this.img&&(this._img=new Image,this._img.src=this.img)},draw:function(){this.color&&(this.ctx.fillStyle=this.color,this.ctx.fillRect(this.x,this.y,this.width,this.height)),this.img&&this.ctx.drawImage(this._img,this.x,this.y,this.width,this.height),this._super()}}),gg.Starfield=gg.Base.extend({layer:"bg",img:"",level:2,init:function(t){this._super(t),this._img=new Image,this._img.src=this.img,this.width=gg.world.width+gg.world.width/this.level,this.height=gg.world.height+gg.world.height/this.level},draw:function(){var t=this.ctx.createPattern(this._img,"repeat");this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.width,this.height),this._super()},update:function(){this.x=-gg.world.x/this.level,this.y=-gg.world.y/this.level,this._super()}}),gg.EntityHero=gg.Entity.extend({width:50,height:50,radius:25,health:100,x:gg.width/2,y:gg.height/2,layer:"main",fireRate:9,fireTick:0,killWhenOffscreen:!1,autofire:!1,type:"EntityHero",h:240,s:50,l:90,a:1,input:function(t){this._super(t)},draw:function(){var t=this.radius;this.ctx.fillStyle=gg.util.hsla(this),this.ctx.beginPath(),this.ctx.moveTo(t,0),this.ctx.lineTo(0,-t/1.5),this.ctx.lineTo(0,t/1.5),this.ctx.fill(),this.ctx.beginPath(),this.ctx.arc(0,0,t/2.5,0,$2PI),this.ctx.fill(),this.ctx.beginPath(),this.ctx.arc(0,0,t,$PI/4,$PI-$PI/6),this.ctx.lineTo(0,0),this.ctx.arc(0,0,t,$PI+$PI/6,$2PI-$PI/4),this.ctx.lineTo(0,0),this.ctx.fill(),this.ctx.moveTo(0,t),this._super()},update:function(){this.rotation=Math.atan2(gg.mouse.y-this.y+gg.world.y,gg.mouse.x-this.x+gg.world.x),0!=this.fireTick&&this.fireTick--,gg.input.state.up&&(this.vel.y-=this.accel.y),gg.input.state.down&&(this.vel.y+=this.accel.y),gg.input.state.left&&(this.vel.x-=this.accel.x),gg.input.state.right&&(this.vel.x+=this.accel.x),this.vel.y*=Math.abs(this.vel.y)>.01?this.friction:0,this.vel.x*=Math.abs(this.vel.x)>.01?this.friction:0,this.x+=this.vel.x,this.y+=this.vel.y,this.x+this.radius>gg.world.width?(this.x=gg.world.width-this.radius,this.vel.x*=-this.elasticity):this.x-this.radius<0&&(this.x=this.radius,this.vel.x*=-this.elasticity),this.y+this.radius>gg.world.height?(this.y=gg.world.height-this.radius,this.vel.y*=-this.elasticity):this.y-this.radius<0&&(this.y=this.radius,this.vel.y*=-this.elasticity),(gg.input.state.fire||this.autofire)&&0==this.fireTick&&this.fire(),this._super()},fire:function(){gg.spawn("EntityBullet",{x:this.x+Math.cos(this.rotation)*this.width/2,y:this.y+Math.sin(this.rotation)*this.height/2,rotation:this.rotation}),gg.shots++,gg.audio.play("shoot"),this.fireTick=this.fireRate},takeDamage:function(t){gg.audio.play("hurt"),this.h=Math.round(gg.util.rand(0,360)),this.l=gg.util.rand(40,80),this._super(t)},kill:function(t){gg.audio.play("bigexplode"),gg.spawn("Explosion",{x:this.x,y:this.y,radius:this.radius/2,h:this._h,s:this.s,l:this.l,life:40}),this._super(t)}}),gg.MenuScreen=gg.Screen.extend({name:"menu",enable:function(){gg.layer.menu.update=!0,this.text={},this.text.title=gg.spawn("Text",{layer:"menu",text:"one ship",align:"center",x:gg.width/2,y:20,scale:8,kerning:.5,a:1}),this.text.desc=gg.spawn("Text",{layer:"menu",text:"you are a single ship stranded behind enemy\nlines. there is no backup. the enemy are\ninnumerable. how long can you survive?",align:"center",scale:2,x:gg.width/2,y:90,a:1}),this.text.helpLeft=gg.spawn("Text",{layer:"menu",text:"w  \na s d\n\nmouse\n\nleft click\n\nf\n\nm\n\np",align:"right",scale:2,x:gg.width/2-10,y:160,h:120,s:50,l:50,a:1}),this.text.helpRight=gg.spawn("Text",{layer:"menu",text:"\nmoves your ship\n\nrotates your ship\n\nfires your weapon\n\ntoggles autofire\n\ntoggles mute\n\ntoggles pause",scale:2,x:gg.width/2+10,y:160,a:1}),this.text.copyright=gg.spawn("Text",{layer:"menu",text:"copyright 2014 - glazebrookgames.com",align:"center",x:gg.width/2,y:gg.height-10,l:80,a:1}),this.startButton=gg.spawn("Button",{layer:"menu",x:gg.width/2-110,y:gg.height-60,text:"start"}),this.statisticsButton=gg.spawn("Button",{layer:"menu",x:gg.width/2+10,y:gg.height-60,text:"stats"}),this._super()},update:function(){this.startButton.clicked&&(this.disable(),gg.loadScreen(gg.GameScreen)),this.statisticsButton.clicked&&(this.disable(),gg.loadScreen(gg.StatScreen)),this._super()},disable:function(){gg.disable(gg.layer.menu),this._super()}}),gg.MiniMap=gg.Base.extend({layer:"ui",timer:0,delay:60,width:100,height:75,x:400,y:400,mapFrom:!1,include:[],fixed:!0,pixels:[],h:0,s:0,l:0,a:.8,init:function(t){this._super(t),"string"==typeof this.mapFrom&&(this.mapFrom=gg.layer[this.mapFrom]),this.ratio={x:this.width/gg.world.width,y:this.height/gg.world.height}},draw:function(){this.ctx.fillStyle=gg.util.hsla(this),this.ctx.fillRect(0,0,this.width,this.height);for(var t=this.pixels,e=0;e<t.length;e++)"hero"!=t[e].name?(this.ctx.fillStyle=t[e].hsla,this.ctx.fillRect(t[e].x-1,t[e].y-1,2,2)):(this.ctx.strokeStyle="hsla(0,0%,100%,.5)",this.ctx.moveTo(t[e].x,0),this.ctx.lineTo(t[e].x,this.height),this.ctx.moveTo(0,t[e].y),this.ctx.lineTo(this.width,t[e].y),this.ctx.stroke());this.ctx.strokeStyle="hsla(0,0%,100%,1)",this.ctx.strokeRect(0,0,this.width,this.height),this._super()},update:function(){this.timer++,this.pixels=[];for(var t=[],e=0;e<this.include.length;e++)t=gg.util.merge(t,gg.getEntitiesByType(this.include[e]));for(var i=0;i<t.length;i++){var s=t[i];s.x.between(s.radius,gg.world.width-s.radius)&&s.y.between(s.radius,gg.world.height-s.radius)&&this.pixels.push({name:s.name||!1,x:s.x*this.ratio.x,y:s.y*this.ratio.y,hsla:gg.util.hsla(s)})}this._super()}}),gg.EntityParticleEmitter=gg.Entity.extend({width:0,height:0,x:gg.width/2,y:gg.height/2,layer:"main",life:1,particleChance:1,particlesPerCycle:5,init:function(t){this._super(t),this._timer=0},draw:function(){this._super()},update:function(){if(this._timer++>this.life)this.kill();else for(var t=0;t<this.particlesPerCycle;t++)Math.random()<this.particleChance&&gg.spawn("EntityParticle",{x:this.x,y:this.y,rotation:gg.util.rand(0,$2PI),h:this.h,s:this.s,l:this.l,a:1});this._super()}}),gg.EntityParticle=gg.Entity.extend({layer:"main",x:0,y:0,radius:1,rotation:0,life:10,maxVel:{x:10,y:10},init:function(t){this._super(t),this._timer=0},update:function(){this._timer++>this.life?this.kill():(this.x+=this.maxVel.x*Math.cos(this.rotation),this.y+=this.maxVel.y*Math.sin(this.rotation),this.a=1-this._timer/this.life),this._super()},draw:function(){this.ctx.beginPath(),this.ctx.fillStyle=gg.util.hsla(this),this.ctx.arc(0,0,this.radius,0,$2PI),this.ctx.fill(),this._super()}}),gg.StatScreen=gg.Screen.extend({name:"stats",enable:function(){gg.layer.menu.update=!0;var t=gg.storage.get("stats")||{};this.text={},this.text.title=gg.spawn("Text",{layer:"menu",text:"game stats",align:"center",x:gg.width/2,y:20,scale:8,kerning:.5}),this.text.statsLeft=gg.spawn("Text",{layer:"menu",text:"high score\n\nenemies killed\n\nbullets fired\n\ndeaths\n\nseconds played",align:"right",x:gg.width/2-10,y:100,scale:2,h:120,s:50,l:50}),this.text.statsRight=gg.spawn("Text",{layer:"menu",text:(t.highscore||"0")+"\n\n"+(t.kills||"0")+"\n\n"+(t.shots||"0")+"\n\n"+(t.deaths||"0")+"\n\n"+(t.seconds||"0"),align:"left",x:gg.width/2+10,y:100,scale:2}),this.backButton=gg.spawn("Button",{layer:"menu",x:gg.width/2-50,y:gg.height-60,text:"back"}),this._super()},update:function(){this.backButton.clicked&&this.disable(),this._super()},disable:function(){gg.disable(gg.layer.menu),gg.loadScreen(gg.MenuScreen),this._super()}}),gg.init({parent:"#game",width:640,height:480,layers:["bg","main","ui","menu"],shots:0,kills:0},function(){gg.layer.bg.fps=30,gg.layer.main.fps=60,gg.layer.ui.fps=20,gg.layer.menu.fps=30,gg.input.map(gg.def.keycode.W,"up"),gg.input.map(gg.def.keycode.A,"left"),gg.input.map(gg.def.keycode.S,"down"),gg.input.map(gg.def.keycode.D,"right"),gg.input.map(gg.def.keycode.F,"autofire"),gg.input.map(gg.def.keycode.M,"mute"),gg.input.map(gg.def.keycode.P,"pause"),gg.input.map(gg.def.keycode.MOUSE_LEFT,"fire"),gg.audio=new gg.Audio({sounds:{shoot:{count:8,variations:[[2,,.1428,.0807,.0722,.484,.0403,-.3823,,,,,,.4165,.1086,,.1865,-.0565,1,,,.1574,,.5],[2,,.1283,.0807,.0516,.4499,.0532,-.3965,-.0292,,,-.0209,,.4165,.1086,,.1865,-.05,.971,,,.1606,-.0132,.5]]},explode:{count:5,variations:[[3,,.1067,.6194,.4834,.0978,,,,,,,,,,,.2146,-.0484,1,,,,,.5],[3,,.1326,.6609,.4834,.1095,,-.0034,.0144,,,.0488,,.0117,,.0192,.2146,-.0484,1,,,,.0152,.5],[3,.01,.0934,.6729,.5274,.1194,.0072,-.0034,.0144,,,.036,,.0117,-.0134,,.2431,-.0484,1,-.0458,,,.0152,.5]]},bigexplode:{count:3,variations:[[3,,.45,.7586,.4797,.0811,,.2513,,,,,,,,.436,.4337,-.1437,1,,,,,.5]]},hurt:{count:7,variations:[[0,,.0617,,.186,.3863,,-.585,,,,,,.54,,,,,1,,,.0262,,.4],[3,,.0354,,.1445,.3578,,-.6795,,,,,,,,,,,1,,,,,.4]]},hit:{count:5,variations:[[0,,.0638,,.1552,.2553,,-.5248,,,,,,.0284,,,,,1,,,,,.5],[0,,.01,,.1751,.584,,-.6542,,,,,,.5805,,,,,1,,,,,.5],[1,,.0699,,.1794,.4778,,-.6809,,,,,,,,,,,1,,,.2587,,.5]]}}}),gg.entityPool={EntityBullet:[],EntityEnemy:[],Explosion:[],PointText:[]},gg.starfieldbg=["iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAALGPC/xhBQAAAYZQTFRF////////9PT09vb2////////9fX1////////8/Pz////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAA9PT0Ow3BEgAAAIF0Uk5TkVvRxTUrzHWF01pegXCHln2MZ35tZX9Yg3dmb4aAkFSJeYponDgkQHxVY1FNQl0qLktQeJRgak4oSUMiViM0LTs5T1I+RiEUTEUgOkdEMSk/Mx0GCxdcJTAmHjJ2SgQDJwgWLxsQSAI8Nh8YCgVXBwwVPREsNxMaGRINHAEPDgkAyGIouQAABrZJREFUeNrt3WVz40gQBuAcMzMu3DKFORtmtsNxHDuGsGNm3H9+W3W3KVdiO21FI/XMvO+XbLIG6anu0ciypJYKQk4LCN5ltRtYl4nFGv+/oyQL1pC4l/7pOQ1Lmjbc+bRg7gu2uS//2bWGMatxhjswwGNrKChTwEJlAQtYwLqS4oMgYMiVtQkXtCGwgAUsYDWXUroyHwVWzYRq/G0AlVUHaxBtiDGr6aS/AhZiBdbxK2CRE0ZlVScwhjYkZwZjlnpJAIue+8Cip2g31vGxsHWbNP7UfJ72OKcqWPGKeViOaQzw5PRgayjZ1CECKTrWEaTQhjJh+YFFT0EXrHO0ITkny8BCgKUM1o+Gn5kUtkzJBE+sqPGP6nqFLVSHh4z1Gh2nzJgVDmuAFY+b8Sr3gHVTSp3v/jURb639EOqnpuq34eNPbn7MsJ5Y6xjg6ckriaXXJ6i3xEpJvfLpsDCslb46GzlU1vWMPaz557M3d/TFanpf5z1Z1/3s6a2xftWmq9xf59TfN8Q8C1hS5yWwyDmfZIX1eSfakD5xOwUWh/R+DyxytgPAQhsCi5wksOj5KwwsfdqwXAYMD6y5JQzwb+MiXTiu+zNgvc34pI5tiACLGZaYU0i31cSayghYxMIw2lBAXjxTFUvEgex7UmMV659wsmr0TLPdBNqQnOA+sJqN+x9gkbO3CSxxKSykgEXOTkZVrFyO3zKZjJXJAMsGLL470hkNz+E1XlkDkGA5wDd1xv3Fhd5YW3ZhbUqIZVsa7x7ly8AiJ297ZfkMPKfvoaYDvMfIkyawNcTUAViIGKyLvy1e3IafSLlsxooyu37daKP5/wuftG04XnW3j2AQbdgwXdW/7AILAzwCLGABSxmshANY9OSAJSROYJGT/QhYZka2016MYq0Bi56gjpfTN78NDw60xyp6gUXGEnnJwp012xncm/a0YfNhcAKi/9RmrNkVDPBNZHERWNZjRUcwgyenWAGWjYkcA8toEjpgPTLpdQ69GmC1YsxiO3U47dBjRU9NuGZeS7QCLLQhKdPAqpfla99xTQJL0a1hsQgsG7EC6mKZn/arR4yC91lgbUih1/8nC6xv2mv88ZduRlBLfNpwvdb5rxtzfKxyASFYZ2eYGJiOlc2avwiZScmwqBGBxS91tlwnmMHXGIvbSsAix4N9w8v8cNfSqUMpfftFjtq2AU6+xO6O8jvSwAIWt+wDi54isNCGwDIzMy6PlW+XSaOyyAn5FMLicMTH///PiakaWD4+Z4akPxi/6SF54fd7X2xYWaN8KuuwYj8W7zbcpp8MlPlY86lD6bjCP5hnAQtYwAIWsDTIjj1YLlQWPT1t08DCmIUAy/TdV+mxvpWrsl757cR6KhdWzK9LH2LMApY6WLE+YKGydEqqS3osnxeVRc+XwCJnYNCsVzrjg3X0mju7h1FlKXe5LP5tmDHzpgQ5blgj5t6ieGHVxBeb54aVfqZSp20lMSklZ2ZNDJaVF8xMpzlIGscqzzlFDqZXsiz51jDNcHWwIw0sYEmbc2CRU7rrBxY5DmUqa8PghT+8Zn+pVwYsl8G7I86XNcTC1pBNxgvAIqeAykIbssQqlQADLLQhsIClH1Y0qcJ6J84swSoqUSRNH8rNow3pmQMWBnhgWZZ4CljkeNt5YZ2cVP82Oos2JGNZn6F+jFlVOT9XprKAJSBHEYxZ5HQuAAuT0qs5PBS/8AWeWPMssZhW1uy+3QuaSnHDWhN536H5tFpYGdIosG7s4M9QTMsBPlfRM5g6SIj1BXOniHlYieeqF5XzQ0srqxVtSM8DYGGAR4AFLGDphFXMAoucRwJuYhtYQhuisoCFAEtzrIsLnbC2toxMV8rAupZ6Rz1OebehPUfH3Dbep+sWWFXf2hjZFb6gqR0M8OSsrwCLRQ5P5MZyrzJcKFQWsIAFLJbZBxY5YUeUIVZ6l6dWilRZgygr+pgV/R0kGOCBpSqW68kBsGScRIWAVT/JK1eiAFYTWE1kYU8klue7Blf8jPpkc57+WWhlbTY4NWBf8i+M2NqGMw4jz9rb03NrGABWo8TRhvT8ASzs7iDAkhrrsc3vfxCRCKvH5os3FEJoQ7vaMGjGGzn7FcTKXjunPPD+nUazzAmfnGu+kRJSWbNK9tRqAlMHXlOHWWDREwMW6xz+JjVWBJVFT6/3v5+5HLAuk6nzhepQyGqs7RJ7LO9SBdF2npWQFStr/ZGxwjIzrDHGWNzacLRlBGMWOX6r1yH2xPSXjGR5jVlF0ya22+Yv3NEBL6wVp8RtKNsNwsJhy9/yX3RUeRRI7W7sAAAAAElFTkSuQmCC","iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAALGPC/xhBQAAAZVQTFRF8fHx/////f39////+vr6////////////////9fX1////////////////+Pj4////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////9vb2////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAyW3oNwAAAId0Uk5T5HOlVbKGbpRkzGo8dk69fDh+iaBcRHmunYR0h2eTbYVyVDdSXmGVTIxvUMY1aDJfOlMjcEtPUTtpQz1CQUdFWWYuLFdNW3tGGj4WK3FsGSdjWCR9mygDNFYUOSotEAoPHh8pEQIbNhxJFyYwCyIlGBMFSiAIAT8vBAkdQAYVDDMhDgdIDRIA9qJzlgAABr5JREFUeNrt3edbGlkYxmG3995rNmVTNr33XtSYxJYYNfaKdBQFpIPwd2+uJJtsBOEMnBlO+T2fuCjjzO153zmjM0xXtf1cqlqSLo9/3uoqWNXHj8GSjuVeRipSFnNsXZ0ydC9fDkpZzLoiPWuaBi+e8LWap8bkLf2seXvDbdknbUmVozHTsWryD2UonitgqZo7Cc+wfHd1x/rqjGdYm72WDUS7y7AdrBU8GFlggQWWsVixICaMLLWw1tZa+FBPBazXSTCyxDMLFj2LOMEqleAAy90y3MRFHGtiwR6A2es0eOFEnI2sqRcP4ouUWXOsa/dePJhZl7fQeXN71g/SF6rkII0XmZSKJ6Q71jMOd5omUH71IA1W0/S0erCwuWkfVssBizIES06GwBLPJwfBEk+u8cvZVc2wRju4Tsu6jay/aefsDcECC6w6GdMS69fP21zWfF8LHzp6XEusA20vrKUTeF2dVE1OulWGlY6c//OLq0vfNAuLBi8l5TJYSmFVioZgeZFEAaxGiU/KLMP7Dd5/yeZhWAfr0cDOb0+Na7Z9Q3sMa/C5R+4tO6nV3rBw8c3jgd12zrOET3CP/m//v1m0E2tgigZf5zg3ymGOMfMsL0d41905vbEiEx5iXae6ONwBy5ssgyWe20pg+U9ogZVSAms2Rc+iwevZmt24QqvAyHJvZC1rsz2RWx3HGqw/vMOMLPGMz4NVP7ur1kcYa7DrIljC7+w2bMt9TErFEwCLGXy9abXzqV9xSHmsBw9cnYN+V/tlzFF9R5a7WNVj/pqnEpQhPQusl5k7qb3NyqJXWGuMLMqQmI11YNjNpY8sdAhrWMNfRTQkGSvk9oXBSyaV4U2X1+xOqx/s/42eJZw8DZ69IVhgEWdYhQJYYHW4DENgiedeDCzK0Irk82ApjXVukDIUTnZD/hrMKnGD3yk9yjCrxKAJ64HVLHFNy/B7n/cr+CSsKdYHZs41X2VCgTLc0OSLKRPvDHUeKz+tCsfFdnu8RYc77X87GMeGYIEllFRKT6ywYVgzbmKdMGzQnqJn0eDBAst5MmCJJ5gCizK0Bise121j+gJg7ZD52hujfu3GzwlYUYZlKVd5fGtHz7pqcINX/5ajCmHtNwvL1d99z0clDbGOvPkf8bifyVWTkXUQFqdlWNw/adrG+j92rWeZd3pRzW3m96RlYe2cxGeG6K17MXXwVa0Mf3XwBGtrS9IqnAaLkUUZErDAaimPgmD9lxv3mmExsl7nSC9lSM8Cy738eQgssWRd+P+MsViBBbXLMEJfEsc6D4icMnz4sIXFJw9vgCWc4b1MHShDAhZYYIFlKNbtfZ1YgydPtMTyT9iHFaMMxZOLgaVRg7/Q+OX4ClhvUm78ckZ9linKULyT3QSLSamMzPTriLW01JmfmwBLJM8oQ/Hc8A4rahVsm1iNbmQxDZZ4FptM1FcLYAnHx8iiZxGwJGMl/lBmTbftXEslRtbOCV9zHSsbpgzFcxysUWXLsHImqRdlsOFF893uYlU839xiWzecfPb6ctbQSM2LC1+YVoaXf2Rv6FAsBJZwbhU8xLoue8njDt478ZdWM3jpJ3Ub9Q0ap5iUiicKluIN/q4PLOHsioFFGbYdf7/5WBlZZwSV1sB6azJJGYonAxYByz6ssmpYc+paFTcZWZQhWGARO7C2VsBiZIEFFgFLRaynF8ASzhwjS6vZ15YiWB/u9MLyDFjbs+NflEr3afBEBSxPv30/B5Z4QknKkJ4FltVYY91gCefsiNob9vvPlKFwTkbAUqIMK8UGb8qatc0bG21iJRpdoHBL0oVe84ZgeZHoHeG3Bme9WaVAWlUsB/HkJgPPu0vgvgFYzOANx7oKkDjWNzXPdJ8DSzgzQ87en05bjOU0YFldhvk8EGApVoaOviFxLWA1Vs7ReekZ9/4Ne4UGz94QLN2TyYPFyAKr/cyBJZ6NETWxym+d0VbRXHnMS6zldb2x+pL2lSENHiywBBLq0EZmdcQa7RBWmjIUT+13VgdvgCWcpYFtT7ynB5bYKSDzEXfx3l10gjXW1yGsQ0JTwsWXTVrOfX7qfLFXj6ORpcVdcvxSrrWPtXpFFvOs59m6NAlW8xSljKykFVaR930SsDK9WSu0LksZWStVIq1n5c6D1WoU//NfsdjWx6c+DTrBSv40LmWtU2kdsaq9zkbW6VXJ6z+9bm0Z0rOUTyUMlvhhirQlBa0vw+Rh4SuaKhnbsarDeylDGjxYHU4aLEYWWGCBRdTGivnAEs7c45QeRLf7KUPhjFrUs54+pcGDRYOvn1wOLLDIy/wLDIa1xj2mV+kAAAAASUVORK5CYII=","iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAALGPC/xhBQAAAZhQTFRF////7u7u////9fX1////////9fX1////////+fn5////////////+Pj4////////////+/v7/////////////////////////////////////////////Pz89fX1////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAA+vr69fX1LeT5vQAAAIZ0Uk5TY/2PyH1wzKCAtpiJkrt2eYOubIeWYYxuWEuVb4ary19WQGZPSU1rlGBMdFNGKHV/IEcycQ93WS4pJTU5LFxEMWV4YkVKP10+Vy8BMx0XG1RRWhwKXhgEWxk3KlI9EyQeQTsJH040MBYCAyMtOg02SDgGPBEhJyZCBRAVDCsaCxQHDggSIgAQRAlyAAAG5ElEQVR42u3d91/aWhjH8d699x7de97uvau1rdatda/WWkUUBWTIhtz7b9+XvX31VoHwZJ8kn+8PrSIk4c15Tk6AnOzSiDi7INBNLAYWWKEvw/vrnq36dtURrCnntviTn4LWsj7+2fkNXV5u/rdczq615GvOl+FmILBu3tHymwwdpC8I4ywGpUHFWgJLnn1gUYakBVYBBDnWqtmDlflFpzZqLOuhSH9OByudVu4V7PYSa5E+qy5FOnh5joHl+NAhctKTNVdSjLNCPyht3/ZbvAiWTsHsSfv/id4ZNjWWnDDcssqhLbwn9Fnud/AXn4NFnMZKyO529UCgsEolMwup9eRld1wBS9O6HdzCRCJgZaiBRcACCyywwAIr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"],gg.loadScreen(gg.MenuScreen)});