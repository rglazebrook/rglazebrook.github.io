/*! oneship 2014-03-22 */
function J(){this.B=function(a){for(var b=0;24>b;b++)this[String.fromCharCode(97+b)]=a[b]||0;.01>this.c&&(this.c=.01),a=this.b+this.c+this.e,.18>a&&(a=.18/a,this.b*=a,this.c*=a,this.e*=a)}}!function(a){function b(){var b={},c=Function;return{publish:function(){var c,d,e,f=arguments,g=b[f[0]];g&&(c=g.length,d=1<f.length?Array.prototype.splice.call(f,1):[],setTimeout(function(){for(e=0;c>e;e+=1)1<g[e].length?g[e][0].apply(g[e][1],d):g[e][0].apply(a,d);g=a=d=null},0))},subscribe:function(a,d,e){if("string"!=typeof a)throw"invalid or missing channel";if(!(d instanceof c))throw"invalid or missing callback";return b[a]||(b[a]=[]),b[a].push(e?[d,e]:[d]),{channel:a,callback:d,context:e}},unsubscribe:function(a,d){if(a.channel&&a.callback&&(d=a.callback,a=a.channel),"string"!=typeof a)throw"invalid or missing channel";if(!(d instanceof c))throw"invalid or missing callback";var e,f=b[a],g=f instanceof Array?f.length:0;for(e=0;g>e;e+=1)if(f[e]===d){f.splice(e,1);break}}}}"function"==typeof define&&define.amd?define("pubsub",b):"object"==typeof module&&module.exports?module.exports=b():a.PubSub=b()}(this),window.gg={bindings:{},currentScreen:null,height:300,layer:{},level:0,loop:null,mouse:{x:0,y:0},muted:!1,score:0,pub:PubSub.publish,sub:PubSub.subscribe,unsub:PubSub.unsubscribe,translate:{x:0,y:0},width:300,world:{height:300,width:300,x:0,y:0},entityPool:{},render:document.createElement("canvas"),init:function(a,b){gg.render.ctx=gg.render.getContext("2d"),gg.util.merge(gg,a);var c=gg.$(a.parent);c||(c=gg.makeElement("div",a.parent)),gg.parent=c;for(var d=0;d<a.layers.length;d++){var e=gg.makeElement("canvas",a.layers[d],c);e.width=a.width,e.height=a.height,e.style.position="absolute",gg.layer[a.layers[d]]={canvas:e,ctx:e.getContext("2d"),update:!1,entities:[],entitiesByName:{}}}b(),gg.unpause()},$:function(a){var b=document;switch(a.charAt(0)){case"#":return b.getElementById(a.slice(1))||!1;default:return b.getElementsByTagName(a)||!1}},gameloop:function(){for(k in gg.layer){var a=gg.layer[k];a.update&&gg.currentScreen.timer%(60/a.fps)==0&&(gg.clear(a),gg.killEntities(a),gg.updateEntities(a.entities))}gg.currentScreen&&gg.currentScreen.show(),gg.loop=requestAnimationFrame(gg.gameloop)},clear:function(a){a.ctx.clearRect(0,0,a.ctx.canvas.width,a.ctx.canvas.height)},disable:function(a){gg.killEntities(a,!0),gg.clear(a),a.update=!1},loadScreen:function(a){gg.currentScreen=new a},killEntities:function(a,b){for(var c=a.entities,d=c.length-1;d>=0;d--)(c[d]._kill||b)&&(gg.entityPool[c[d].type]&&(c[d]._kill=!1,gg.entityPool[c[d].type].push(c[d])),c[d].name&&delete a.entitiesByName[c[d].name],c.erase(c[d]))},updateEntities:function(a){for(var a=a.sort(function(a,b){return a.id-b.id}),b=0;b<a.length;b++)a[b].update()},listen:function(a,b,c){gg.bindings[a]||(gg.bindings[a]={},gg.bindings[a][b]=[]),gg.bindings[a][b].push(c)},spawn:function(a,b){var c;return gg.entityPool[a]&&gg.entityPool[a].length>0?(c=gg.entityPool[a].pop(),c.init(b)):c=new gg[a](b),c.layer&&(c.layer.entities.push(c),c.name&&(c.layer.entitiesByName[c.name]=c)),c},getEntitiesByType:function(a){var b=[];for(var c in gg.layer)for(var d=gg.layer[c].entities,e=0;e<d.length;e++)d[e].type==a&&b.push(d[e]);return b},makeElement:function(a,b,c){var d=document,e=gg.$("#"+b),c=c||gg.$("body");return e||(e=d.createElement(a),e.id=b,c.appendChild(e)),e},pause:function(){cancelAnimationFrame(gg.loop)},unpause:function(){gg.loop=requestAnimationFrame(gg.gameloop)}},window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1e3/60)});var $PI=Math.PI,$2PI=2*$PI;Array.prototype.erase=function(a){for(var b=this.length;b--;)this[b]===a&&this.splice(b,1);return this},Number.prototype.between=function(a,b,c){return c?this>=a&&b>=this:this>a&&b>this},Number.prototype.limit=function(a,b){return Math.min(b,Math.max(a,this))},gg.Class=function(){},gg.Class.extend=function(a){function b(){if(!c){for(var a in this)"object"==typeof this[a]&&(this[a]=gg.util.copyObj(this[a]));this.init&&this.init.apply(this,arguments)}}var c=!1,d=/xyz/.test(function(){})?/\b_super\b/:/.*/,e=this.prototype;c=!0;var f=new this;c=!1;for(var g in a)f[g]="function"==typeof a[g]&&"function"==typeof e[g]&&d.test(a[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,a[g]):a[g];return b.prototype=f,b.prototype.constructor=b,b.extend=window.gg.Class.extend,b},gg.util={copyObj:function(a){var b=a instanceof Array?[]:{};for(var c in a)b[c]=a[c];return b},merge:function(a,b){for(var c in b)try{a[c]=b[c].constructor==Object?gg.util.merge(a[c],b[c]):b[c]}catch(d){a[c]=b[c]}return a},hsla:function(a){return"hsla("+(a.h||0)+","+(a.s||0)+"%,"+(a.l||0)+"%,"+(a.a||0)+")"},distance:function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)},intersectRects:function(a,b){return!(a.x+a.width<b.x||b.x+b.width<a.x||a.y+a.height<b.y||b.y+b.height<a.y)},intersectCircles:function(a,b){return a.width/2+b.width/2>gg.util.distance(a,b)},intersectCircleRect:function(a,b){var c=a.radius||a.width/2;return!(a.x+c<b.x||a.x-c>b.x+b.width||a.y+c<b.y||a.y-c>b.y+b.height)},rand:function(a,b,c){return c?Math.round(Math.random()*(b-a)+a):Math.random()*(b-a)+a}};var W=new function(){this.A=new J;var a,b,c,d,e,f,g,h,i,j,k,l;this.reset=function(){var a=this.A;d=100/(a.f*a.f+.001),e=100/(a.g*a.g+.001),f=1-.01*a.h*a.h*a.h,g=1e-6*-a.i*a.i*a.i,a.a||(k=.5-a.n/2,l=5e-5*-a.o),h=1+a.l*a.l*(0<a.l?-.9:10),i=0,j=1==a.m?0:2e4*(1-a.m)*(1-a.m)+32},this.D=function(){this.reset();var d=this.A;return a=1e5*d.b*d.b,b=1e5*d.c*d.c,c=1e5*d.e*d.e+12,3*((a+b+c)/3|0)},this.C=function(m,n){var o=this.A,p=1!=o.s||o.v,q=.1*o.v*o.v,r=1+3e-4*o.w,s=.1*o.s*o.s*o.s,t=1+1e-4*o.t,u=1!=o.s,v=o.x*o.x,w=o.g,x=o.q||o.r,y=.2*o.r*o.r*o.r,z=o.q*o.q*(0>o.q?-1020:1020),A=o.p?(2e4*(1-o.p)*(1-o.p)|0)+32:0,B=o.d,C=o.j/2,D=.01*o.k*o.k,E=o.a,F=a,G=1/a,H=1/b,I=1/c,o=5/(1+20*o.u*o.u)*(.01+s);o>.8&&(o=.8);for(var J,K,L,M,N,o=1-o,O=!1,P=0,Q=0,R=0,S=0,T=0,U=0,V=0,W=0,X=0,Y=0,Z=Array(1024),$=Array(32),_=Z.length;_--;)Z[_]=0;for(_=$.length;_--;)$[_]=2*Math.random()-1;for(_=0;n>_;_++){if(O)return _;if(A&&++X>=A&&(X=0,this.reset()),j&&++i>=j&&(j=0,d*=h),f+=g,d*=f,d>e&&(d=e,w>0&&(O=!0)),K=d,C>0&&(Y+=D,K*=1+Math.sin(Y)*C),K|=0,8>K&&(K=8),E||(k+=l,0>k?k=0:k>.5&&(k=.5)),++Q>F)switch(Q=0,++P){case 1:F=b;break;case 2:F=c}switch(P){case 0:R=Q*G;break;case 1:R=1+2*(1-Q*H)*B;break;case 2:R=1-Q*I;break;case 3:R=0,O=!0}x&&(z+=y,L=0|z,0>L?L=-L:L>1023&&(L=1023)),p&&r&&(q*=r,1e-5>q?q=1e-5:q>.1&&(q=.1)),N=0;for(var ab=8;ab--;){if(V++,V>=K&&(V%=K,3==E))for(J=$.length;J--;)$[J]=2*Math.random()-1;switch(E){case 0:M=k>V/K?.5:-.5;break;case 1:M=1-2*(V/K);break;case 2:M=V/K,M=6.28318531*(M>.5?M-1:M),M=1.27323954*M+.405284735*M*M*(0>M?1:-1),M=.225*((0>M?-1:1)*M*M-M)+M;break;case 3:M=$[Math.abs(32*V/K|0)]}p&&(J=U,s*=t,0>s?s=0:s>.1&&(s=.1),u?(T+=(M-U)*s,T*=o):(U=M,T=0),U+=T,S+=U-J,M=S*=1-q),x&&(Z[W%1024]=M,M+=Z[(W-L+1024)%1024],W++),N+=M}N=.125*N*R*v,m[_]=N>=1?32767:-1>=N?-32768:32767*N|0}return n}};window.jsfxr=function(a){W.A.B(a);var b=W.D();a=new Uint8Array(4*((b+1)/2|0)+44);var b=2*W.C(new Uint16Array(a.buffer,44),b),c=new Uint32Array(a.buffer,0,44);c[0]=1179011410,c[1]=b+36,c[2]=1163280727,c[3]=544501094,c[4]=16,c[5]=65537,c[6]=44100,c[7]=88200,c[8]=1048578,c[9]=1635017060,c[10]=b;for(var b=b+44,c=0,d="data:audio/wav;base64,";b>c;c+=3)var e=a[c]<<16|a[c+1]<<8|a[c+2],d=d+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>18]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>12&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>6&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[63&e]);return d},gg.Audio=gg.Class.extend({sounds:{},soundObj:{},init:function(a){gg.util.merge(this,a);for(var b in this.sounds){this.soundObj[b]=[];for(var c=this.sounds[b],d=this.soundObj[b],e=0;e<c.variations.length;e++){d.push({next:0,last:c.count-1,pool:[]});for(var f=0;f<=d[e].last;f++){var g=new Audio;g.src=jsfxr(c.variations[e]),d[e].pool.push(g)}}}},play:function(a){if(!gg.muted){var b=this.soundObj[a];b=b.length>1?this.soundObj[a][gg.util.rand(0,b.length-1,!0)]:this.soundObj[a][0],b.pool[b.next].play(),b.next+=b.next==b.last?-b.last:1}}}),gg.Base=gg.Class.extend({id:0,x:0,y:0,width:0,height:0,radius:0,type:null,layer:!1,rotation:0,drawFromCenter:!0,fixed:!1,pool:!1,init:function(a){this.id=++gg.Base._lastId,gg.util.merge(this,a),this.layer&&("string"==typeof this.layer&&(this.layer=gg.layer[this.layer]),this.ctx=this.layer.ctx,this.canvas=this.ctx.canvas)},draw:function(){this.ctx.restore()},update:function(){if(!this._kill){var a=0,b=0;this.ctx.save(),this.drawFromCenter&&(a+=this.x,b+=this.y),this.fixed||(a-=gg.world.x,b-=gg.world.y),this.ctx.translate(a,b),this.ctx.rotate(this.rotation),this.draw()}},kill:function(){this._kill=!0}}),gg.Base._lastId=0,gg.Button=gg.Base.extend({width:100,height:30,background:{h:0,s:0,l:50,a:.8},stroke:{h:0,s:0,l:100,a:1},text:null,hover:!1,scale:2,type:"button",fixed:!0,clicked:!1,init:function(a){this._super(a),this.background._a=this.background.a,this.text&&"string"==typeof this.text&&(this.text=gg.spawn("Text",{text:this.text,layer:a.layer,align:"center",scale:2,x:this.x+this.width/2,y:this.y+this.height/2-5})),gg.sub("click",this.click,this)},draw:function(){var a=gg.util.hsla(this.background),b=gg.util.hsla(this.stroke);this.ctx.fillStyle=a,this.ctx.strokeStyle=b,this.ctx.beginPath(),this.ctx.fillRect(0,0,this.width,this.height),this.ctx.beginPath(),this.ctx.strokeRect(0,0,this.width,this.height),this._super()},update:function(){this.hover=gg.mouse.x.between(this.x,this.x+this.width)&&gg.mouse.y.between(this.y,this.y+this.height)?!0:!1,this.background.a=this.hover?1.2*this.background._a:this.background._a,this._super()},click:function(a){this.clicked=a.x.between(this.x,this.x+this.width)&&a.y.between(this.y,this.y+this.height)?!0:!1}}),gg.Camera=gg.Base.extend({x:0,y:0,width:300,height:300,deadZone:{width:50,height:50},debug:!1,following:!1,type:"camera",draw:function(){if(this.debug){var a=this.width,b=this.height,c=this.deadZone.width,d=this.deadZone.height;this.ctx.strokeStyle="rgba(255,0,0,.8)",this.ctx.fillStyle="rgba(255,0,0,.25)",this.ctx.beginPath(),this.ctx.strokeRect(-a/2,-b/2,a,b),this.ctx.beginPath(),this.ctx.fillRect(-c/2,-d/2,c,d)}this._super()},update:function(){if(this.following){var a=this.x,b=this.y;w=this.width,h=this.height,deadzone={top:b-this.deadZone.height/2,left:a+this.deadZone.width/2,bottom:b+this.deadZone.height/2,right:a-this.deadZone.width/2},their={top:this.following.y-this.following.height/2,left:this.following.x+this.following.width/2,bottom:this.following.y+this.following.height/2,right:this.following.x-this.following.width/2},their.left>deadzone.left?this.x+=their.left-deadzone.left:their.right<deadzone.right&&(this.x+=their.right-deadzone.right),their.bottom>deadzone.bottom?this.y+=their.bottom-deadzone.bottom:their.top<deadzone.top&&(this.y+=their.top-deadzone.top),this.x-w/2<0&&(this.x=w/2),this.x+w/2>gg.world.width&&(this.x=gg.world.width-w/2),this.y-h/2<0&&(this.y=h/2),this.y+h/2>gg.world.height&&(this.y=gg.world.height-h/2),gg.world.x=this.x-w/2,gg.world.y=this.y-h/2}this._super()},follow:function(a){this.following=a,this.x=this.following.x,this.y=this.following.y},unfollow:function(){this.following=!1}}),gg.def={keycode:{MOUSE_LEFT:-1,MOUSE_CENTER:-2,MOUSE_RIGHT:-3,BACKSPACE:8,TAB:9,ENTER:13,COMMAND:15,SHIFT:16,CONTROL:17,ALTERNATE:18,PAUSE:19,CAPS_LOCK:20,NUMPAD:21,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,NUMBER_0:48,NUMBER_1:49,NUMBER_2:50,NUMBER_3:51,NUMBER_4:52,NUMBER_5:53,NUMBER_6:54,NUMBER_7:55,NUMBER_8:56,NUMBER_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LEFT_WINDOW_KEY:91,RIGHT_WINDOW_KEY:92,SELECT_KEY:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,SEMICOLON:186,EQUAL:187,COMMA:188,MINUS:189,PERIOD:190,SLASH:191,BACKQUOTE:192,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221,QUOTE:222},text:{XX:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],0:[[,0,0,0],[0,,,0,0],[0,,0,,0],[0,0,,,0],[,0,0,0]],1:[[,0,0],[,,0],[,,0],[,,0],[0,0,0,0,0]],2:[[,0,0,0],[0,,,,0],[,,,0],[,,0],[0,0,0,0,0]],3:[[0,0,0,0],[,,,,0],[,0,0,0],[,,,,0],[0,0,0,0]],4:[[0,,,0],[0,,,0],[0,0,0,0,0],[,,,0],[,,,0]],5:[[0,0,0,0,0],[0],[0,0,0,0],[,,,,0],[0,0,0,0]],6:[[,0,0,0,0],[0],[0,0,0,0,0],[0,,,,0],[0,0,0,0,0]],7:[[0,0,0,0,0],[,,,0],[,,,0],[,,0],[,,0]],8:[[,0,0,0],[0,,,,0],[,0,0,0],[0,,,,0],[,0,0,0]],9:[[,0,0,0,0],[0,,,,0],[,0,0,0,0],[,,,,0],[,,,,0]],a:[[,0,0,0],[0,,,,0],[0,0,0,0,0],[0,,,,0],[0,,,,0]],b:[[0,0,0,0],[0,,,,0],[0,0,0,0],[0,,,,0],[0,0,0,0]],c:[[,0,0,0,0],[0],[0],[0],[,0,0,0,0]],d:[[0,0,0,0],[0,,,,0],[0,,,,0],[0,,,,0],[0,0,0,0]],e:[[0,0,0,0,0],[0],[0,0,0,0],[0],[0,0,0,0,0]],f:[[0,0,0,0,0],[0],[0,0,0],[0],[0]],g:[[,0,0,0,0],[0],[0,,,0,0],[0,,,,0],[,0,0,0,0]],h:[[0,,,,0],[0,,,,0],[0,0,0,0,0],[0,,,,0],[0,,,,0]],i:[[0,0,0,0,0],[,,0],[,,0],[,,0],[0,0,0,0,0]],j:[[0,0,0,0,0],[,,0],[,,0],[0,,0],[0,0,0]],k:[[0,,,0],[0,,0],[0,0,0],[0,,,0],[0,,,,0]],l:[[0],[0],[0],[0],[0,0,0,0,0]],m:[[0,,,,0],[0,0,,0,0],[0,,0,,0],[0,,,,0],[0,,,,0]],n:[[0,,,,0],[0,0,,,0],[0,,0,,0],[0,,,0,0],[0,,,,0]],o:[[,0,0,0],[0,,,,0],[0,,,,0],[0,,,,0],[,0,0,0]],p:[[0,0,0,0],[0,,,,0],[0,0,0,0],[0],[0]],q:[[,0,0],[0,,,0],[0,,,0],[0,,,0],[,0,0,0,0]],r:[[0,0,0,0],[0,,,,0],[0,0,0,0],[0,,,0],[0,,,,0]],s:[[,0,0,0,0],[0],[,0,0,0],[,,,,0],[0,0,0,0]],t:[[0,0,0,0,0],[,,0],[,,0],[,,0],[,,0]],u:[[0,,,,0],[0,,,,0],[0,,,,0],[0,,,,0],[,0,0,0,0]],v:[[0,,,,0],[0,,,,0],[,0,,0],[,0,,0],[,,0]],w:[[0,,,,0],[0,,0,,0],[0,,0,,0],[0,,0,,0],[,0,,0]],x:[[0,,,,0],[,0,,0],[,,0],[,0,,0],[0,,,,0]],y:[[0,,,,0],[,0,0,0],[,,0],[,,0],[,,0]],z:[[0,0,0,0,0],[,,,0],[,,0],[,0],[0,0,0,0,0]],"!":[[,,0,0],[,,0,0],[,,0],[],[,,0]],"?":[[,0,0,0],[0,,,,0],[,,,0],[],[,,0]],"(":[[,0],[0],[0],[0],[,0]],")":[[,,,0],[,,,,0],[,,,,0],[,,,,0],[,,,0]],":":[[],[,,0],[],[,,0],[]],"-":[[],[],[,0,0,0],[],[]],"@":[[,0,0,0],[0,,,,0],[0,,0,0,0],[0,,0,,0],[0,,0,0,0]],"+":[[,,0],[,,0],[0,0,0,0,0],[,,0],[,,0]],".":[[],[],[],[],[,,0]]}},gg.Entity=gg.Base.extend({width:10,height:10,health:1,vel:{x:0,y:0},maxVel:{x:12,y:12},accel:{x:.2,y:.2},rotation:0,friction:.95,elasticity:1,visible:!0,type:null,onscreen:!1,init:function(a){this._super(a),this.h&&(this._h=this.h),this.l&&(this._l=this.l)},draw:function(){this.h=this._h,this.l=this._l,this._super()},update:function(){this.onscreen=gg.util.intersectCircleRect(this,{x:gg.world.x,y:gg.world.y,width:gg.width,height:gg.height}),gg.util.intersectCircleRect(this,{x:0,y:0,width:gg.world.width,height:gg.world.height})||this.kill(),this.onscreen&&this._super()},takeDamage:function(a){this.health-=a.damage?a.damage:1,this.health<=0&&this.kill(a)}}),(gg.input={pressed:{},keymap:{},state:{},init:function(){var a=document;a.addEventListener("keydown",function(a){gg.pub("down",a)}),a.addEventListener("keyup",function(a){gg.pub("up",a)}),a.addEventListener("mousedown",function(a){gg.pub("down",a)}),a.addEventListener("mouseup",function(a){gg.pub("up",a)}),a.addEventListener("mousemove",function(a){gg.pub("mouse",a)}),a.addEventListener("click",function(a){gg.pub("mouse",a)}),a.addEventListener("touchstart",function(a){gg.pub("touch",a)}),gg.sub("down",function(a){var b=gg.input.keymap[a.keyCode]||gg.input.keymap[-a.which]||!1;b&&(gg.input.state[b]=!0,gg.pub("down/"+b))}),gg.sub("up",function(a){var b=gg.input.keymap[a.keyCode]||gg.input.keymap[-a.which]||!1;b&&(gg.input.state[b]=!1,gg.pub("up/"+b))}),gg.sub("mouse",function(a){gg.mouse=gg.input.getCoords(a),"click"==a.type&&gg.pub("click",gg.mouse)}),gg.sub("touch",function(a){gg.touch=a.touches[0],gg.mouse=gg.input.getCoords(gg.gg),touch.pub("click",gg.mouse)})},getCoords:function(a){var b=0,c=0,d=document;return a.pageX||a.pageY?(b=a.pageX,c=a.pageY):(b=a.clientX+d.body.scrollLeft+d.documentElement.scrollLeft,c=a.clientY+d.body.scrollTop+d.documentElement.scrollTop),b-=gg.parent.offsetLeft,c-=gg.parent.offsetTop,{x:b,y:c}},map:function(a,b){gg.input.keymap[a]=b,gg.input.state[b]=!1}}).init(),gg.Screen=gg.Class.extend({timer:0,enabled:!1,init:function(a){gg.util.merge(this,a)},enable:function(){this.enabled=!0,this.timer=0},show:function(){this.enabled?(this.timer++,this.update()):this.enable()},update:function(){},disable:function(){this.enabled=!1}}),gg.storage={get:function(a){return JSON.parse(localStorage.getItem(a))||!1},set:function(a,b){localStorage.setItem(a,JSON.stringify(b))}},"object"!=typeof JSON&&(JSON={}),function(){function m(a){return 10>a?"0"+a:a}function r(a){return s.lastIndex=0,s.test(a)?'"'+a.replace(s,function(a){var b=u[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function p(a,b){var c,d,f,g,h,i=e,j=b[a];switch(j&&"object"==typeof j&&"function"==typeof j.toJSON&&(j=j.toJSON(a)),"function"==typeof k&&(j=k.call(b,a,j)),typeof j){case"string":return r(j);case"number":return isFinite(j)?String(j):"null";case"boolean":case"null":return String(j);case"object":if(!j)return"null";if(e+=n,h=[],"[object Array]"===Object.prototype.toString.apply(j)){for(g=j.length,c=0;g>c;c+=1)h[c]=p(c,j)||"null";return f=0===h.length?"[]":e?"[\n"+e+h.join(",\n"+e)+"\n"+i+"]":"["+h.join(",")+"]",e=i,f}if(k&&"object"==typeof k)for(g=k.length,c=0;g>c;c+=1)"string"==typeof k[c]&&(d=k[c],(f=p(d,j))&&h.push(r(d)+(e?": ":":")+f));else for(d in j)Object.prototype.hasOwnProperty.call(j,d)&&(f=p(d,j))&&h.push(r(d)+(e?": ":":")+f);return f=0===h.length?"{}":e?"{\n"+e+h.join(",\n"+e)+"\n"+i+"}":"{"+h.join(",")+"}",e=i,f}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+m(this.getUTCMonth()+1)+"-"+m(this.getUTCDate())+"T"+m(this.getUTCHours())+":"+m(this.getUTCMinutes())+":"+m(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var t=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,n,u={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(n=e="","number"==typeof c)for(d=0;c>d;d+=1)n+=" ";else"string"==typeof c&&(n=c);if((k=b)&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw Error("JSON.stringify");return p("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(a,e){function c(a,b){var d,f,g=a[b];if(g&&"object"==typeof g)for(d in g)Object.prototype.hasOwnProperty.call(g,d)&&(f=c(g,d),void 0!==f?g[d]=f:delete g[d]);return e.call(a,b,g)}var d;if(a=String(a),t.lastIndex=0,t.test(a)&&(a=a.replace(t,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"==typeof e?c({"":d},""):d;throw new SyntaxError("JSON.parse")})}(),gg.Text=gg.Base.extend({visible:!0,type:"text",text:null,align:"left",scale:1,kerning:1,leading:5,arrayRows:5,arrayCols:5,h:0,s:0,l:100,a:1,drawFromCenter:!1,fixed:!0,init:function(a){this._super(a),this.width=this.arrayCols*this.scale,this.height=this.arrayRows*this.scale},draw:function(){var a=this.text.split("\n"),b=this.arrayRows,c=this.arrayCols,d=this.width/c,e=this.height/b;this.ctx.fillStyle=gg.util.hsla(this);for(var f=0;f<a.length;f++){var g=a[f].split(""),h=this.y+this.width*f+this.leading*this.scale*f;switch(this.align){case"right":letterx=this.x-this.width*g.length-this.kerning*this.scale*(g.length-1);break;case"center":letterx=Math.round(this.x-(this.width*g.length+this.kerning*this.scale*(g.length-1))/2);break;default:letterx=this.x}for(var i=0;i<g.length;i++){var j=gg.def.text[g[i]];if(j)for(var k=0;b>k;k++)for(var l=0;c>l;l++){var m=j[k][l];m>=0&&this.ctx.fillRect(letterx+l*d,h+k*e,d,e)}letterx+=this.width+this.kerning*this.scale}}this._super()},update:function(){this.text&&this._super()}}),gg.EntityBullet=gg.Entity.extend({width:3,height:3,radius:1.5,maxVel:{x:10,y:10},layer:"main",damage:5,damages:["EntityEnemy"],type:"EntityBullet",h:0,s:10,l:100,a:1,draw:function(){this.ctx.beginPath(),this.ctx.fillStyle=gg.util.hsla(this),this.ctx.arc(0,0,this.radius,0,$2PI),this.ctx.fill(),this._super()},update:function(){this.vel.x=this.maxVel.x*Math.cos(this.rotation),this.vel.y=this.maxVel.y*Math.sin(this.rotation),this.x+=this.vel.x,this.y+=this.vel.y;for(var a=this.layer.entities,b=0;b<a.length;b++)if(this.damages.indexOf(a[b].type)>=0&&gg.util.intersectCircles(this,a[b])){a[b].takeDamage(this),this.kill(this),gg.spawn("EntityParticleEmitter",{x:this.x,y:this.y,life:2,h:a[b]._h,s:"100%",l:"85%",a:1});break}this._super()}}),gg.EntityEnemy=gg.Entity.extend({width:50,height:50,radius:25,x:gg.width/2,y:gg.height/2,layer:"main",direction:0,rotationAmount:.05,health:5,homing:!1,accuracy:0,type:"EntityEnemy",points:5,damage:.5,damages:["friend"],h:240,s:100,l:55,a:1,img:new Image,drawImage:function(){var a=this.width,b=this.height,c=a/2,d=b/2;gg.render.width=a,gg.render.height=b,gg.render.ctx.translate(c,d),gg.render.ctx.fillStyle=gg.util.hsla(this),gg.render.ctx.strokeStyle=gg.util.hsla(this),gg.render.ctx.beginPath(),gg.render.ctx.moveTo(-a/3,0),gg.render.ctx.quadraticCurveTo(0,0,0,b/3),gg.render.ctx.quadraticCurveTo(0,0,a/3,0),gg.render.ctx.quadraticCurveTo(0,0,0,-b/3),gg.render.ctx.quadraticCurveTo(0,0,-a/3,0),gg.render.ctx.fill();var e=gg.render.ctx.createRadialGradient(0,0,this.radius/3,0,0,this.radius);e.addColorStop(0,gg.util.hsla({h:this.h,s:this.s,l:this.l,a:0})),e.addColorStop(1,gg.util.hsla(this)),gg.render.ctx.beginPath(),gg.render.ctx.arc(0,0,this.radius,0,$2PI),gg.render.ctx.fillStyle=e,gg.render.ctx.fill(),this.img=new Image,this.img.src=gg.render.toDataURL()},draw:function(){var a=this.width,b=this.height,c=a/2,d=b/2;this.img.src||this.drawImage(),this.ctx.drawImage(this.img,-c,-d),this._super()},update:function(){if(this.rotation+=this.rotationAmount,this.target&&this.accuracy>=gg.util.rand(0,1)){var a=this.layer.entitiesByName[this.target]||!1;a&&(this.direction=Math.atan2(a.y-this.y,a.x-this.x),this.vel.x=Math.cos(this.direction),this.vel.y=Math.sin(this.direction))}this.x+=this.vel.x,this.y+=this.vel.y;for(var b=gg.getEntitiesByType("EntityHero"),c=0;c<b.length;c++)gg.util.intersectCircles(this,b[c])&&b[c].takeDamage(this);this._super()},kill:function(a){a&&a!==this&&(gg.score+=this.points,gg.kills++,this.onscreen&&(gg.audio.play("explode"),gg.spawn("PointText",{text:"+"+this.points,x:this.x,y:this.y-5,h:this.h}),gg.spawn("Explosion",{x:this.x,y:this.y,radius:this.radius/2,h:this.h,s:this.s,l:this.l}))),this.img=new Image,this._super()},takeDamage:function(a){this._super(a),this.onscreen&&this.health>0&&(this.h=Math.round(gg.util.rand(0,360)),gg.audio.play("hit"))}}),gg.Explosion=gg.Entity.extend({layer:"main",radius:25,explosionradius:25,h:240,s:100,l:55,a:1,_timer:0,life:20,type:"Explosion",init:function(a){this._super(a),this._timer=0},draw:function(){var a=this.ctx.createRadialGradient(0,0,this.radius,0,0,this.explosionradius);a.addColorStop(0,gg.util.hsla({h:this.h,s:this.s,l:this.l,a:0})),a.addColorStop(1,gg.util.hsla(this)),this.ctx.beginPath(),this.ctx.arc(0,0,this.explosionradius,0,$2PI),this.ctx.fillStyle=a,this.ctx.fill(),this._super()},update:function(){this._timer++==this.life?this.kill():(this.a=1-this._timer/this.life,this.radius++,this.explosionradius=this.radius*(1+this._timer/this.life)*1.75),this._super()}}),gg.PointText=gg.Text.extend({layer:"main",scale:2,h:0,s:60,l:50,a:1,_timer:0,timerMax:30,fixed:!1,align:"center",type:"PointText",init:function(a){this._super(a),this._timer=0},update:function(){this._timer++==this.timerMax?this.kill():(this.a=1-this._timer/this.timerMax,this._super())}}),gg.Fillbar=gg.Base.extend({layer:"ui",x:0,y:0,width:50,height:10,fill:1,foreground:{h:120,s:100,l:50,a:.75},background:{h:0,s:0,l:0,a:.25},stroke:{h:0,s:100,l:100,a:.5},fixed:!0,drawFromCenter:!1,draw:function(){var a=gg.util.hsla(this.background),b=gg.util.hsla(this.foreground),c=gg.util.hsla(this.stroke);this.ctx.fillStyle=a,this.ctx.beginPath(),this.ctx.fillRect(this.x,this.y,this.width,this.height),this.fill>0&&(this.ctx.fillStyle=b,this.ctx.beginPath(),this.ctx.fillRect(this.x,this.y,this.width*this.fill,this.height)),this.ctx.strokeStyle=c,this.ctx.beginPath(),this.ctx.strokeRect(this.x,this.y,this.width,this.height),this._super()}}),gg.GameOverScreen=gg.Screen.extend({name:"gameover",enable:function(){gg.layer.menu.update=!0;var a=new Date;this.seconds=Math.round((a-gg.startTime)/1e3);for(var b=gg.getEntitiesByType("bullet"),c=0;c<b.length;c++)b[c].kill();this.stats=gg.storage.get("stats")||{highscore:0,kills:0,deaths:0,shots:0,seconds:0},this.stats.highscore=Math.max(this.stats.highscore,gg.score),this.stats.kills+=gg.kills,this.stats.shots+=gg.shots,this.stats.seconds+=this.seconds,this.stats.deaths++,gg.storage.set("stats",this.stats),this.menubutton={},this.retrybutton={},this._super()},update:function(){80==this.timer?(this.bg=gg.spawn("Background",{layer:"menu",color:"rgba(0,0,0,.5)"}),this.title=gg.spawn("Text",{layer:"menu",text:"game over",align:"center",x:gg.width/2,y:40,scale:10,kerning:.5}),this.statsL=gg.spawn("Text",{layer:"menu",text:"score\n\nenemies killed\n\nshots fired\n\nseconds survived",align:"right",x:gg.width/2-10,y:140,scale:2,h:120,s:50,l:50}),this.statsR=gg.spawn("Text",{layer:"menu",text:gg.score+(gg.score==this.stats.highscore?" new high score!":" (best: "+this.stats.highscore+")")+"\n\n"+gg.kills+"\n\n"+gg.shots+"\n\n"+this.seconds,align:"left",x:gg.width/2+10,y:140,scale:2})):120==this.timer&&(this.menubutton=gg.spawn("Button",{layer:"menu",text:"menu",x:gg.width/2-110,y:gg.height-60}),this.retrybutton=gg.spawn("Button",{layer:"menu",text:"retry",x:this.menubutton.x+120,y:this.menubutton.y})),this.menubutton.clicked&&(this.disable(),gg.loadScreen(gg.MenuScreen)),this.retrybutton.clicked&&(this.disable(),gg.loadScreen(gg.GameScreen)),this._super()},disable:function(){gg.disable(gg.layer.main),gg.disable(gg.layer.menu),gg.disable(gg.layer.ui),gg.disable(gg.layer.bg),this._super()}}),gg.GameScreen=gg.Screen.extend({name:"game",enable:function(){gg.layer.main.update=!0,gg.layer.ui.update=!0,gg.layer.bg.update=!0,gg.disable(gg.layer.menu),gg.killEntities(gg.layer.main,!0),gg.killEntities(gg.layer.ui,!0),gg.muted=!1,gg.paused=!1,gg.autofire=!1,gg.spawnWait=30,gg.spawnTick=0,gg.levelEnemyMax=10,gg.totalEnemyMax=90,gg.score=0,gg.shots=0,gg.kills=0,gg.level=2,gg.startTime=new Date,gg.world={x:0,y:0,width:2*gg.width,height:2*gg.height},gg.hero=gg.spawn("EntityHero",{name:"hero",x:gg.world.width/2,y:gg.world.height/2}),gg.camera=gg.spawn("Camera",{layer:"main",x:gg.hero.x,y:gg.hero.y,width:gg.width,height:gg.height,deadZone:{width:60,height:60}}),gg.camera.follow(gg.hero),gg.scoretext=gg.spawn("Text",{layer:"ui",text:"score:0",x:10,y:10,scale:2}),gg.healthtext=gg.spawn("Text",{layer:"ui",text:"health:",x:gg.width-120,y:10,align:"right",scale:2}),gg.healthbar=gg.spawn("Fillbar",{x:gg.width-110,y:10,width:100,height:10}),gg.minimap=gg.spawn("MiniMap",{x:gg.width-110,y:gg.height-85,width:100,height:75,delay:5,mapFrom:"main",include:["EntityEnemy","EntityHero"]}),gg.spawn("Starfield",{level:4,img:"data:image/png;base64,"+gg.starfieldbg[0]}),gg.spawn("Starfield",{level:8,img:"data:image/png;base64,"+gg.starfieldbg[1]}),gg.spawn("Starfield",{level:12,img:"data:image/png;base64,"+gg.starfieldbg[2]}),this.pause=gg.sub("up/pause",function(){gg.paused?(gg.unpause(),gg.paused=!1):(gg.pause(),gg.paused=!0),console.log("Pause: "+gg.paused)}),this.autofire=gg.sub("up/autofire",function(){gg.hero.autofire=!gg.hero.autofire,console.log("Autofire: "+gg.hero.autofire)}),this.mute=gg.sub("up/mute",function(){gg.muted=!gg.muted,console.log("Muted: "+gg.muted)}),this._super()},update:function(){this.spawnEnemies(),gg.scoretext.text="score:"+gg.score,gg.healthbar.fill=gg.hero.health/100,gg.healthbar.foreground.h=Math.round(120*gg.healthbar.fill),gg.score>100&&(gg.levelEnemyMax=Math.floor(10+gg.score/30).limit(0,gg.totalEnemyMax),gg.spawnWait=Math.floor(30-gg.score/70).limit(0,100)),gg.hero.health<=0&&this.disable(),this._super()},spawnEnemies:function(){gg.spawnTick>=gg.spawnWait&&gg.getEntitiesByType("enemy").length<gg.levelEnemyMax&&(gg.spawn("EntityEnemy",this.getEnemy()),gg.spawnTick=0),gg.spawnTick++},getEnemyType:function(){return gg.util.rand(0,gg.level,!0)},getEnemy:function(a){var b=this.getSpawnCoords(),a=a||this.getEnemyType();switch(a){case 0:return gg.util.merge(b,{vel:{x:"left"==b.start?1:"right"==b.start?-1:0,y:"top"==b.start?1:"bottom"==b.start?-1:0},target:!1});case 1:return gg.util.merge(b,{h:100,s:75,l:45,health:10,points:10,vel:{x:["top","bottom"].indexOf(b.start)>=0?gg.util.rand(-1,1):"left"==b.start?1:-1,y:["left","right"].indexOf(b.start)>=0?gg.util.rand(-1,1):"top"==b.start?1:-1},target:!1});case 2:return gg.util.merge(b,{h:360,s:80,l:50,health:10,points:15,target:"hero",accuracy:.1})}},getSpawnCoords:function(){var a,b,c;switch(gg.util.rand(0,3,!0)){case 0:a=gg.util.rand(0,gg.world.width),b=-25,c="top";break;case 1:a=gg.world.width+25,b=gg.util.rand(0,gg.world.height),c="right";break;case 2:a=gg.util.rand(0,gg.world.width),b=gg.world.height+25,c="bottom";break;default:a=-25,b=gg.util.rand(0,gg.world.height),c="left"}return{x:a,y:b,start:c}},disable:function(){gg.camera.kill(),gg.unsub(this.pause),gg.unsub(this.autofire),gg.unsub(this.mute),gg.loadScreen(gg.GameOverScreen)}}),gg.Background=gg.Base.extend({x:0,y:0,layer:"bg",img:!1,color:!1,fixed:!0,init:function(a){this.width=gg.width,this.height=gg.height,this._super(a),this.img&&(this._img=new Image,this._img.src=this.img)},draw:function(){this.color&&(this.ctx.fillStyle=this.color,this.ctx.fillRect(this.x,this.y,this.width,this.height)),this.img&&this.ctx.drawImage(this._img,this.x,this.y,this.width,this.height),this._super()}}),gg.Starfield=gg.Base.extend({layer:"bg",img:"",level:2,init:function(a){this._super(a),this._img=new Image,this._img.src=this.img,this.width=gg.world.width+gg.world.width/this.level,this.height=gg.world.height+gg.world.height/this.level,this._pattern=document.createElement("canvas");var b=this._pattern.getContext("2d"),c=b.createPattern(this._img,"repeat");this._pattern.width=this.width,this._pattern.height=this.height,b.fillStyle=c,b.fillRect(0,0,this.width,this.height)},draw:function(){this.ctx.drawImage(this._pattern,0,0),this._super()},update:function(){this.x=-gg.world.x/this.level,this.y=-gg.world.y/this.level,this._super()}}),gg.EntityHero=gg.Entity.extend({width:50,height:50,radius:25,health:100,x:gg.width/2,y:gg.height/2,layer:"main",fireRate:9,fireTick:0,killWhenOffscreen:!1,autofire:!1,type:"EntityHero",h:240,s:50,l:90,a:1,input:function(a){this._super(a)},draw:function(){var a=this.radius;this.ctx.fillStyle=gg.util.hsla(this),this.ctx.beginPath(),this.ctx.moveTo(a,0),this.ctx.lineTo(0,-a/1.5),this.ctx.lineTo(0,a/1.5),this.ctx.fill(),this.ctx.beginPath(),this.ctx.arc(0,0,a/2.5,0,$2PI),this.ctx.fill(),this.ctx.beginPath(),this.ctx.arc(0,0,a,$PI/4,$PI-$PI/6),this.ctx.lineTo(0,0),this.ctx.arc(0,0,a,$PI+$PI/6,$2PI-$PI/4),this.ctx.lineTo(0,0),this.ctx.fill(),this.ctx.moveTo(0,a),this._super()
},update:function(){this.rotation=Math.atan2(gg.mouse.y-this.y+gg.world.y,gg.mouse.x-this.x+gg.world.x),0!=this.fireTick&&this.fireTick--,gg.input.state.up&&(this.vel.y-=this.accel.y),gg.input.state.down&&(this.vel.y+=this.accel.y),gg.input.state.left&&(this.vel.x-=this.accel.x),gg.input.state.right&&(this.vel.x+=this.accel.x),this.vel.y*=Math.abs(this.vel.y)>.01?this.friction:0,this.vel.x*=Math.abs(this.vel.x)>.01?this.friction:0,this.x+=this.vel.x,this.y+=this.vel.y,this.x+this.radius>gg.world.width?(this.x=gg.world.width-this.radius,this.vel.x*=-this.elasticity):this.x-this.radius<0&&(this.x=this.radius,this.vel.x*=-this.elasticity),this.y+this.radius>gg.world.height?(this.y=gg.world.height-this.radius,this.vel.y*=-this.elasticity):this.y-this.radius<0&&(this.y=this.radius,this.vel.y*=-this.elasticity),(gg.input.state.fire||this.autofire)&&0==this.fireTick&&this.fire(),this._super()},fire:function(){gg.spawn("EntityBullet",{x:this.x+Math.cos(this.rotation)*this.width/2,y:this.y+Math.sin(this.rotation)*this.height/2,rotation:this.rotation}),gg.shots++,gg.audio.play("shoot"),this.fireTick=this.fireRate},takeDamage:function(a){gg.audio.play("hurt"),this.h=Math.round(gg.util.rand(0,360)),this.l=gg.util.rand(40,80),this._super(a)},kill:function(a){gg.audio.play("bigexplode"),gg.spawn("Explosion",{x:this.x,y:this.y,radius:this.radius/2,h:this._h,s:this.s,l:this.l,life:40}),this._super(a)}}),gg.MenuScreen=gg.Screen.extend({name:"menu",enable:function(){gg.layer.menu.update=!0,this.text={},this.text.title=gg.spawn("Text",{layer:"menu",text:"one ship",align:"center",x:gg.width/2,y:20,scale:8,kerning:.5,a:1}),this.text.desc=gg.spawn("Text",{layer:"menu",text:"you are a single ship stranded behind enemy\nlines. there is no backup. the enemy are\ninnumerable. how long can you survive?",align:"center",scale:2,x:gg.width/2,y:90,a:1}),this.text.helpLeft=gg.spawn("Text",{layer:"menu",text:"w  \na s d\n\nmouse\n\nleft click\n\nf\n\nm\n\np",align:"right",scale:2,x:gg.width/2-10,y:160,h:120,s:50,l:50,a:1}),this.text.helpRight=gg.spawn("Text",{layer:"menu",text:"\nmoves your ship\n\nrotates your ship\n\nfires your weapon\n\ntoggles autofire\n\ntoggles mute\n\ntoggles pause",scale:2,x:gg.width/2+10,y:160,a:1}),this.text.copyright=gg.spawn("Text",{layer:"menu",text:"copyright 2014 - glazebrookgames.com",align:"center",x:gg.width/2,y:gg.height-10,l:80,a:1}),this.startButton=gg.spawn("Button",{layer:"menu",x:gg.width/2-110,y:gg.height-60,text:"start"}),this.statisticsButton=gg.spawn("Button",{layer:"menu",x:gg.width/2+10,y:gg.height-60,text:"stats"}),this._super()},update:function(){this.startButton.clicked&&(this.disable(),gg.loadScreen(gg.GameScreen)),this.statisticsButton.clicked&&(this.disable(),gg.loadScreen(gg.StatScreen)),this._super()},disable:function(){gg.disable(gg.layer.menu),this._super()}}),gg.MiniMap=gg.Base.extend({layer:"ui",timer:0,delay:60,width:100,height:75,x:400,y:400,mapFrom:!1,include:[],fixed:!0,pixels:[],h:0,s:0,l:0,a:.8,init:function(a){this._super(a),"string"==typeof this.mapFrom&&(this.mapFrom=gg.layer[this.mapFrom]),this.ratio={x:this.width/gg.world.width,y:this.height/gg.world.height}},draw:function(){this.ctx.fillStyle=gg.util.hsla(this),this.ctx.fillRect(0,0,this.width,this.height);for(var a=this.pixels,b=0;b<a.length;b++)"hero"!=a[b].name?(this.ctx.fillStyle=a[b].hsla,this.ctx.fillRect(a[b].x-1,a[b].y-1,2,2)):(this.ctx.strokeStyle="hsla(0,0%,100%,.5)",this.ctx.moveTo(a[b].x,0),this.ctx.lineTo(a[b].x,this.height),this.ctx.moveTo(0,a[b].y),this.ctx.lineTo(this.width,a[b].y),this.ctx.stroke());this.ctx.strokeStyle="hsla(0,0%,100%,1)",this.ctx.strokeRect(0,0,this.width,this.height),this._super()},update:function(){this.timer++,this.pixels=[];for(var a=[],b=0;b<this.include.length;b++)a=gg.util.merge(a,gg.getEntitiesByType(this.include[b]));for(var c=0;c<a.length;c++){var d=a[c];d.x.between(d.radius,gg.world.width-d.radius)&&d.y.between(d.radius,gg.world.height-d.radius)&&this.pixels.push({name:d.name||!1,x:d.x*this.ratio.x,y:d.y*this.ratio.y,hsla:gg.util.hsla(d)})}this._super()}}),gg.EntityParticleEmitter=gg.Entity.extend({width:0,height:0,x:gg.width/2,y:gg.height/2,layer:"main",life:1,particleChance:1,particlesPerCycle:5,init:function(a){this._super(a),this._timer=0},draw:function(){this._super()},update:function(){if(this._timer++>this.life)this.kill();else for(var a=0;a<this.particlesPerCycle;a++)Math.random()<this.particleChance&&gg.spawn("EntityParticle",{x:this.x,y:this.y,rotation:gg.util.rand(0,$2PI),h:this.h,s:this.s,l:this.l,a:1});this._super()}}),gg.EntityParticle=gg.Entity.extend({layer:"main",x:0,y:0,radius:1,rotation:0,life:10,maxVel:{x:10,y:10},init:function(a){this._super(a),this._timer=0},update:function(){this._timer++>this.life?this.kill():(this.x+=this.maxVel.x*Math.cos(this.rotation),this.y+=this.maxVel.y*Math.sin(this.rotation),this.a=1-this._timer/this.life),this._super()},draw:function(){this.ctx.beginPath(),this.ctx.fillStyle=gg.util.hsla(this),this.ctx.arc(0,0,this.radius,0,$2PI),this.ctx.fill(),this._super()}}),gg.StatScreen=gg.Screen.extend({name:"stats",enable:function(){gg.layer.menu.update=!0;var a=gg.storage.get("stats")||{};this.text={},this.text.title=gg.spawn("Text",{layer:"menu",text:"game stats",align:"center",x:gg.width/2,y:20,scale:8,kerning:.5}),this.text.statsLeft=gg.spawn("Text",{layer:"menu",text:"high score\n\nenemies killed\n\nbullets fired\n\ndeaths\n\nseconds played",align:"right",x:gg.width/2-10,y:100,scale:2,h:120,s:50,l:50}),this.text.statsRight=gg.spawn("Text",{layer:"menu",text:(a.highscore||"0")+"\n\n"+(a.kills||"0")+"\n\n"+(a.shots||"0")+"\n\n"+(a.deaths||"0")+"\n\n"+(a.seconds||"0"),align:"left",x:gg.width/2+10,y:100,scale:2}),this.backButton=gg.spawn("Button",{layer:"menu",x:gg.width/2-50,y:gg.height-60,text:"back"}),this._super()},update:function(){this.backButton.clicked&&this.disable(),this._super()},disable:function(){gg.disable(gg.layer.menu),gg.loadScreen(gg.MenuScreen),this._super()}}),gg.init({parent:"#game",width:640,height:480,layers:["bg","main","ui","menu"],shots:0,kills:0},function(){gg.layer.bg.fps=30,gg.layer.main.fps=60,gg.layer.ui.fps=20,gg.layer.menu.fps=30,gg.input.map(gg.def.keycode.W,"up"),gg.input.map(gg.def.keycode.A,"left"),gg.input.map(gg.def.keycode.S,"down"),gg.input.map(gg.def.keycode.D,"right"),gg.input.map(gg.def.keycode.F,"autofire"),gg.input.map(gg.def.keycode.M,"mute"),gg.input.map(gg.def.keycode.P,"pause"),gg.input.map(gg.def.keycode.MOUSE_LEFT,"fire"),gg.audio=new gg.Audio({sounds:{shoot:{count:8,variations:[[2,,.1428,.0807,.0722,.484,.0403,-.3823,,,,,,.4165,.1086,,.1865,-.0565,1,,,.1574,,.5],[2,,.1283,.0807,.0516,.4499,.0532,-.3965,-.0292,,,-.0209,,.4165,.1086,,.1865,-.05,.971,,,.1606,-.0132,.5]]},explode:{count:5,variations:[[3,,.1067,.6194,.4834,.0978,,,,,,,,,,,.2146,-.0484,1,,,,,.5],[3,,.1326,.6609,.4834,.1095,,-.0034,.0144,,,.0488,,.0117,,.0192,.2146,-.0484,1,,,,.0152,.5],[3,.01,.0934,.6729,.5274,.1194,.0072,-.0034,.0144,,,.036,,.0117,-.0134,,.2431,-.0484,1,-.0458,,,.0152,.5]]},bigexplode:{count:3,variations:[[3,,.45,.7586,.4797,.0811,,.2513,,,,,,,,.436,.4337,-.1437,1,,,,,.5]]},hurt:{count:7,variations:[[0,,.0617,,.186,.3863,,-.585,,,,,,.54,,,,,1,,,.0262,,.4],[3,,.0354,,.1445,.3578,,-.6795,,,,,,,,,,,1,,,,,.4]]},hit:{count:5,variations:[[0,,.0638,,.1552,.2553,,-.5248,,,,,,.0284,,,,,1,,,,,.5],[0,,.01,,.1751,.584,,-.6542,,,,,,.5805,,,,,1,,,,,.5],[1,,.0699,,.1794,.4778,,-.6809,,,,,,,,,,,1,,,.2587,,.5]]}}}),gg.entityPool={EntityBullet:[],EntityEnemy:[],Explosion:[],PointText:[]},gg.starfieldbg=[["iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAALGPC/xhBQAAAYZQTFRF////////9PT09vb2////////9fX1////////8/Pz////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAA9PT0Ow3BEgAAAIF0Uk5TkVvRxTUrzHWF01pegXCHln2MZ35tZX9Yg3dmb4aAkFSJeYponDgkQHxVY1FNQl0qLktQeJRgak4oSUMiViM0LTs5T1I+RiEUTEUgOkdEMSk/Mx0GCxdcJTAmHjJ2SgQDJwgWLxsQSAI8Nh8YCgVXBwwVPREsNxMaGRINHAEPDgkAyGIouQAABrZJREFUeNrt3WVz40gQBuAcMzMu3DKFORtmtsNxHDuGsGNm3H9+W3W3KVdiO21FI/XMvO+XbLIG6anu0ciypJYKQk4LCN5ltRtYl4nFGv+/oyQL1pC4l/7pOQ1Lmjbc+bRg7gu2uS//2bWGMatxhjswwGNrKChTwEJlAQtYwLqS4oMgYMiVtQkXtCGwgAUsYDWXUroyHwVWzYRq/G0AlVUHaxBtiDGr6aS/AhZiBdbxK2CRE0ZlVScwhjYkZwZjlnpJAIue+8Cip2g31vGxsHWbNP7UfJ72OKcqWPGKeViOaQzw5PRgayjZ1CECKTrWEaTQhjJh+YFFT0EXrHO0ITkny8BCgKUM1o+Gn5kUtkzJBE+sqPGP6nqFLVSHh4z1Gh2nzJgVDmuAFY+b8Sr3gHVTSp3v/jURb639EOqnpuq34eNPbn7MsJ5Y6xjg6ckriaXXJ6i3xEpJvfLpsDCslb46GzlU1vWMPaz557M3d/TFanpf5z1Z1/3s6a2xftWmq9xf59TfN8Q8C1hS5yWwyDmfZIX1eSfakD5xOwUWh/R+DyxytgPAQhsCi5wksOj5KwwsfdqwXAYMD6y5JQzwb+MiXTiu+zNgvc34pI5tiACLGZaYU0i31cSayghYxMIw2lBAXjxTFUvEgex7UmMV659wsmr0TLPdBNqQnOA+sJqN+x9gkbO3CSxxKSykgEXOTkZVrFyO3zKZjJXJAMsGLL470hkNz+E1XlkDkGA5wDd1xv3Fhd5YW3ZhbUqIZVsa7x7ly8AiJ297ZfkMPKfvoaYDvMfIkyawNcTUAViIGKyLvy1e3IafSLlsxooyu37daKP5/wuftG04XnW3j2AQbdgwXdW/7AILAzwCLGABSxmshANY9OSAJSROYJGT/QhYZka2016MYq0Bi56gjpfTN78NDw60xyp6gUXGEnnJwp012xncm/a0YfNhcAKi/9RmrNkVDPBNZHERWNZjRUcwgyenWAGWjYkcA8toEjpgPTLpdQ69GmC1YsxiO3U47dBjRU9NuGZeS7QCLLQhKdPAqpfla99xTQJL0a1hsQgsG7EC6mKZn/arR4yC91lgbUih1/8nC6xv2mv88ZduRlBLfNpwvdb5rxtzfKxyASFYZ2eYGJiOlc2avwiZScmwqBGBxS91tlwnmMHXGIvbSsAix4N9w8v8cNfSqUMpfftFjtq2AU6+xO6O8jvSwAIWt+wDi54isNCGwDIzMy6PlW+XSaOyyAn5FMLicMTH///PiakaWD4+Z4akPxi/6SF54fd7X2xYWaN8KuuwYj8W7zbcpp8MlPlY86lD6bjCP5hnAQtYwAIWsDTIjj1YLlQWPT1t08DCmIUAy/TdV+mxvpWrsl757cR6KhdWzK9LH2LMApY6WLE+YKGydEqqS3osnxeVRc+XwCJnYNCsVzrjg3X0mju7h1FlKXe5LP5tmDHzpgQ5blgj5t6ieGHVxBeb54aVfqZSp20lMSklZ2ZNDJaVF8xMpzlIGscqzzlFDqZXsiz51jDNcHWwIw0sYEmbc2CRU7rrBxY5DmUqa8PghT+8Zn+pVwYsl8G7I86XNcTC1pBNxgvAIqeAykIbssQqlQADLLQhsIClH1Y0qcJ6J84swSoqUSRNH8rNow3pmQMWBnhgWZZ4CljkeNt5YZ2cVP82Oos2JGNZn6F+jFlVOT9XprKAJSBHEYxZ5HQuAAuT0qs5PBS/8AWeWPMssZhW1uy+3QuaSnHDWhN536H5tFpYGdIosG7s4M9QTMsBPlfRM5g6SIj1BXOniHlYieeqF5XzQ0srqxVtSM8DYGGAR4AFLGDphFXMAoucRwJuYhtYQhuisoCFAEtzrIsLnbC2toxMV8rAupZ6Rz1OebehPUfH3Dbep+sWWFXf2hjZFb6gqR0M8OSsrwCLRQ5P5MZyrzJcKFQWsIAFLJbZBxY5YUeUIVZ6l6dWilRZgygr+pgV/R0kGOCBpSqW68kBsGScRIWAVT/JK1eiAFYTWE1kYU8klue7Blf8jPpkc57+WWhlbTY4NWBf8i+M2NqGMw4jz9rb03NrGABWo8TRhvT8ASzs7iDAkhrrsc3vfxCRCKvH5os3FEJoQ7vaMGjGGzn7FcTKXjunPPD+nUazzAmfnGu+kRJSWbNK9tRqAlMHXlOHWWDREwMW6xz+JjVWBJVFT6/3v5+5HLAuk6nzhepQyGqs7RJ7LO9SBdF2npWQFStr/ZGxwjIzrDHGWNzacLRlBGMWOX6r1yH2xPSXjGR5jVlF0ya22+Yv3NEBL6wVp8RtKNsNwsJhy9/yX3RUeRRI7W7sAAAAAElFTkSuQmCC"],["iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAALGPC/xhBQAAAZVQTFRF8fHx/////f39////+vr6////////////////9fX1////////////////+Pj4////////////////////////////////+/v7////////////////////////////////////////////////////////////////////////////9vb2////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAyW3oNwAAAId0Uk5T5HOlVbKGbpRkzGo8dk69fDh+iaBcRHmunYR0h2eTbYVyVDdSXmGVTIxvUMY1aDJfOlMjcEtPUTtpQz1CQUdFWWYuLFdNW3tGGj4WK3FsGSdjWCR9mygDNFYUOSotEAoPHh8pEQIbNhxJFyYwCyIlGBMFSiAIAT8vBAkdQAYVDDMhDgdIDRIA9qJzlgAABr5JREFUeNrt3edbGlkYxmG3995rNmVTNr33XtSYxJYYNfaKdBQFpIPwd2+uJJtsBOEMnBlO+T2fuCjjzO153zmjM0xXtf1cqlqSLo9/3uoqWNXHj8GSjuVeRipSFnNsXZ0ydC9fDkpZzLoiPWuaBi+e8LWap8bkLf2seXvDbdknbUmVozHTsWryD2UonitgqZo7Cc+wfHd1x/rqjGdYm72WDUS7y7AdrBU8GFlggQWWsVixICaMLLWw1tZa+FBPBazXSTCyxDMLFj2LOMEqleAAy90y3MRFHGtiwR6A2es0eOFEnI2sqRcP4ouUWXOsa/dePJhZl7fQeXN71g/SF6rkII0XmZSKJ6Q71jMOd5omUH71IA1W0/S0erCwuWkfVssBizIES06GwBLPJwfBEk+u8cvZVc2wRju4Tsu6jay/aefsDcECC6w6GdMS69fP21zWfF8LHzp6XEusA20vrKUTeF2dVE1OulWGlY6c//OLq0vfNAuLBi8l5TJYSmFVioZgeZFEAaxGiU/KLMP7Dd5/yeZhWAfr0cDOb0+Na7Z9Q3sMa/C5R+4tO6nV3rBw8c3jgd12zrOET3CP/m//v1m0E2tgigZf5zg3ymGOMfMsL0d41905vbEiEx5iXae6ONwBy5ssgyWe20pg+U9ogZVSAms2Rc+iwevZmt24QqvAyHJvZC1rsz2RWx3HGqw/vMOMLPGMz4NVP7ur1kcYa7DrIljC7+w2bMt9TErFEwCLGXy9abXzqV9xSHmsBw9cnYN+V/tlzFF9R5a7WNVj/pqnEpQhPQusl5k7qb3NyqJXWGuMLMqQmI11YNjNpY8sdAhrWMNfRTQkGSvk9oXBSyaV4U2X1+xOqx/s/42eJZw8DZ69IVhgEWdYhQJYYHW4DENgiedeDCzK0Irk82ApjXVukDIUTnZD/hrMKnGD3yk9yjCrxKAJ64HVLHFNy/B7n/cr+CSsKdYHZs41X2VCgTLc0OSLKRPvDHUeKz+tCsfFdnu8RYc77X87GMeGYIEllFRKT6ywYVgzbmKdMGzQnqJn0eDBAst5MmCJJ5gCizK0Bise121j+gJg7ZD52hujfu3GzwlYUYZlKVd5fGtHz7pqcINX/5ajCmHtNwvL1d99z0clDbGOvPkf8bifyVWTkXUQFqdlWNw/adrG+j92rWeZd3pRzW3m96RlYe2cxGeG6K17MXXwVa0Mf3XwBGtrS9IqnAaLkUUZErDAaimPgmD9lxv3mmExsl7nSC9lSM8Cy738eQgssWRd+P+MsViBBbXLMEJfEsc6D4icMnz4sIXFJw9vgCWc4b1MHShDAhZYYIFlKNbtfZ1YgydPtMTyT9iHFaMMxZOLgaVRg7/Q+OX4ClhvUm78ckZ9linKULyT3QSLSamMzPTriLW01JmfmwBLJM8oQ/Hc8A4rahVsm1iNbmQxDZZ4FptM1FcLYAnHx8iiZxGwJGMl/lBmTbftXEslRtbOCV9zHSsbpgzFcxysUWXLsHImqRdlsOFF893uYlU839xiWzecfPb6ctbQSM2LC1+YVoaXf2Rv6FAsBJZwbhU8xLoue8njDt478ZdWM3jpJ3Ub9Q0ap5iUiicKluIN/q4PLOHsioFFGbYdf7/5WBlZZwSV1sB6azJJGYonAxYByz6ssmpYc+paFTcZWZQhWGARO7C2VsBiZIEFFgFLRaynF8ASzhwjS6vZ15YiWB/u9MLyDFjbs+NflEr3afBEBSxPv30/B5Z4QknKkJ4FltVYY91gCefsiNob9vvPlKFwTkbAUqIMK8UGb8qatc0bG21iJRpdoHBL0oVe84ZgeZHoHeG3Bme9WaVAWlUsB/HkJgPPu0vgvgFYzOANx7oKkDjWNzXPdJ8DSzgzQ87en05bjOU0YFldhvk8EGApVoaOviFxLWA1Vs7ReekZ9/4Ne4UGz94QLN2TyYPFyAKr/cyBJZ6NETWxym+d0VbRXHnMS6zldb2x+pL2lSENHiywBBLq0EZmdcQa7RBWmjIUT+13VgdvgCWcpYFtT7ynB5bYKSDzEXfx3l10gjXW1yGsQ0JTwsWXTVrOfX7qfLFXj6ORpcVdcvxSrrWPtXpFFvOs59m6NAlW8xSljKykFVaR930SsDK9WSu0LksZWStVIq1n5c6D1WoU//NfsdjWx6c+DTrBSv40LmWtU2kdsaq9zkbW6VXJ6z+9bm0Z0rOUTyUMlvhhirQlBa0vw+Rh4SuaKhnbsarDeylDGjxYHU4aLEYWWGCBRdTGivnAEs7c45QeRLf7KUPhjFrUs54+pcGDRYOvn1wOLLDIy/wLDIa1xj2mV+kAAAAASUVORK5CYII="],["iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAALGPC/xhBQAAAZhQTFRF////7u7u////9fX1////////9fX1////////+fn5////////////+Pj4////////////+/v7/////////////////////////////////////////////Pz89fX1////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAA+vr69fX1LeT5vQAAAIZ0Uk5TY/2PyH1wzKCAtpiJkrt2eYOubIeWYYxuWEuVb4ary19WQGZPSU1rlGBMdFNGKHV/IEcycQ93WS4pJTU5LFxEMWV4YkVKP10+Vy8BMx0XG1RRWhwKXhgEWxk3KlI9EyQeQTsJH040MBYCAyMtOg02SDgGPBEhJyZCBRAVDCsaCxQHDggSIgAQRAlyAAAG5ElEQVR42u3d91/aWhjH8d699x7de97uvau1rdatda/WWkUUBWTIhtz7b9+XvX31VoHwZJ8kn+8PrSIk4c15Tk6AnOzSiDi7INBNLAYWWKEvw/vrnq36dtURrCnntviTn4LWsj7+2fkNXV5u/rdczq615GvOl+FmILBu3tHymwwdpC8I4ywGpUHFWgJLnn1gUYakBVYBBDnWqtmDlflFpzZqLOuhSH9OByudVu4V7PYSa5E+qy5FOnh5joHl+NAhctKTNVdSjLNCPyht3/ZbvAiWTsHsSfv/id4ZNjWWnDDcssqhLbwn9Fnud/AXn4NFnMZKyO529UCgsEolMwup9eRld1wBS9O6HdzCRCJgZaiBRcACCyywwAIr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"]],gg.loadScreen(gg.MenuScreen)});